<?xml version="1.0" encoding="utf-8"?>
<WorkflowBuilder Version="2.8.2"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xmlns:gl="clr-namespace:Bonsai.Shaders;assembly=Bonsai.Shaders"
                 xmlns:res="clr-namespace:Bonsai.Resources;assembly=Bonsai.System"
                 xmlns:rx="clr-namespace:Bonsai.Reactive;assembly=Bonsai.Core"
                 xmlns:p1="clr-namespace:;assembly=Extensions"
                 xmlns:scr="clr-namespace:Bonsai.Scripting.Expressions;assembly=Bonsai.Scripting.Expressions"
                 xmlns:num="clr-namespace:Bonsai.Numerics;assembly=Bonsai.Numerics"
                 xmlns:sys="clr-namespace:System;assembly=mscorlib"
                 xmlns:p2="clr-namespace:Bonsai.Numerics.Distributions;assembly=Bonsai.Numerics"
                 xmlns:wie="clr-namespace:Bonsai.Windows.Input;assembly=Bonsai.Windows.Input"
                 xmlns:io="clr-namespace:Bonsai.IO;assembly=Bonsai.System"
                 xmlns:port="clr-namespace:Bonsai.IO.Ports;assembly=Bonsai.System"
                 xmlns:cv="clr-namespace:Bonsai.Vision;assembly=Bonsai.Vision"
                 xmlns:dsp="clr-namespace:Bonsai.Dsp;assembly=Bonsai.Dsp"
                 xmlns:ffmpeg="clr-namespace:Bonsai.FFmpeg;assembly=Bonsai.FFmpeg"
                 xmlns="https://bonsai-rx.org/2018/workflow">
  <Workflow>
    <Nodes>
      <Expression xsi:type="ExternalizedMapping">
        <Property Name="DisplayDevice" />
        <Property Name="WindowState" />
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>DisplayAndResources</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="DisplayDevice" />
              <Property Name="WindowState" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:CreateWindow">
                <gl:Width>1800</gl:Width>
                <gl:Height>800</gl:Height>
                <gl:VSync>Off</gl:VSync>
                <gl:SwapSync>false</gl:SwapSync>
                <gl:ClearColor>Gray</gl:ClearColor>
                <gl:ClearMask>DepthBufferBit ColorBufferBit</gl:ClearMask>
                <gl:CursorVisible>false</gl:CursorVisible>
                <gl:Location xsi:nil="true" />
                <gl:WindowBorder>Hidden</gl:WindowBorder>
                <gl:WindowState>Fullscreen</gl:WindowState>
                <gl:DisplayDevice>First</gl:DisplayDevice>
                <gl:TargetRenderFrequency>60</gl:TargetRenderFrequency>
                <gl:TargetUpdateFrequency xsi:nil="true" />
                <gl:RenderState />
                <gl:GraphicsMode>
                  <gl:ColorFormat>
                    <gl:Red>8</gl:Red>
                    <gl:Green>8</gl:Green>
                    <gl:Blue>8</gl:Blue>
                    <gl:Alpha>8</gl:Alpha>
                  </gl:ColorFormat>
                  <gl:Depth>16</gl:Depth>
                  <gl:Stencil>0</gl:Stencil>
                  <gl:Samples>0</gl:Samples>
                  <gl:AccumulatorFormat>
                    <gl:Red>0</gl:Red>
                    <gl:Green>0</gl:Green>
                    <gl:Blue>0</gl:Blue>
                    <gl:Alpha>0</gl:Alpha>
                  </gl:AccumulatorFormat>
                  <gl:Buffers>2</gl:Buffers>
                  <gl:Stereo>false</gl:Stereo>
                </gl:GraphicsMode>
              </Combinator>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Primitives.BonVisionResources.bonsai" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:TextureResources">
                <gl:Textures>
                  <gl:TextureConfiguration xsi:type="gl:Texture2D">
                    <gl:Name>DynamicVideo</gl:Name>
                    <gl:Width xsi:nil="true" />
                    <gl:Height xsi:nil="true" />
                    <gl:InternalFormat>Rgba</gl:InternalFormat>
                    <gl:WrapS>Repeat</gl:WrapS>
                    <gl:WrapT>Repeat</gl:WrapT>
                    <gl:MinFilter>Nearest</gl:MinFilter>
                    <gl:MagFilter>Nearest</gl:MagFilter>
                  </gl:TextureConfiguration>
                </gl:Textures>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="res:LoadResources" />
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="gl:RenderFrame" />
      </Expression>
      <Expression xsi:type="SubscribeSubject">
        <Name>Borders</Name>
      </Expression>
      <Expression xsi:type="PropertyMapping">
        <PropertyMappings>
          <Property Name="Top" Selector="Item1" />
          <Property Name="Bottom" Selector="Item2" />
          <Property Name="Left" Selector="Item3" />
          <Property Name="Right" Selector="Item4" />
        </PropertyMappings>
      </Expression>
      <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.OrthographicView.bonsai">
        <Left>-120</Left>
        <Right>120</Right>
        <Bottom>-60</Bottom>
        <Top>60</Top>
      </Expression>
      <Expression xsi:type="rx:PublishSubject">
        <Name>DrawStimuli</Name>
      </Expression>
      <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.SphereMapping.bonsai">
        <ClearColor>Gray</ClearColor>
        <Width xsi:nil="true" />
        <Height xsi:nil="true" />
        <RotationZ>0</RotationZ>
        <RotationY>0</RotationY>
        <RotationX>0</RotationX>
        <FaceSize xsi:nil="true" />
      </Expression>
      <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.ViewWindow.bonsai">
        <Width>15</Width>
        <Height>19.5</Height>
        <Rotation>
          <X>0</X>
          <Y>60.000001669652114</Y>
          <Z>0</Z>
        </Rotation>
        <Translation>
          <X>-12</X>
          <Y>0</Y>
          <Z>-9</Z>
        </Translation>
      </Expression>
      <Expression xsi:type="Disable">
        <Builder xsi:type="IncludeWorkflow" Path="BonVision:Environment.GammaCorrection.bonsai">
          <ClearColor>Gray</ClearColor>
          <GammaLut>New_HALFINTENSITY_LUT_SALEEM20_20241118.bmp</GammaLut>
        </Builder>
      </Expression>
      <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.DrawViewport.bonsai">
        <X>0</X>
        <Y>0</Y>
        <Width>0.332</Width>
        <Height>1</Height>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="gl:UpdateRenderState">
          <gl:RenderState>
            <gl:StateConfiguration xsi:type="gl:ViewportState">
              <gl:X>0</gl:X>
              <gl:Y>0</gl:Y>
              <gl:Width>0.333</gl:Width>
              <gl:Height>1</gl:Height>
            </gl:StateConfiguration>
          </gl:RenderState>
        </Combinator>
      </Expression>
      <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.ViewWindow.bonsai">
        <Width>15</Width>
        <Height>19.5</Height>
        <Rotation>
          <X>0</X>
          <Y>0</Y>
          <Z>0</Z>
        </Rotation>
        <Translation>
          <X>0</X>
          <Y>0</Y>
          <Z>-15</Z>
        </Translation>
      </Expression>
      <Expression xsi:type="Disable">
        <Builder xsi:type="IncludeWorkflow" Path="BonVision:Environment.GammaCorrection.bonsai">
          <ClearColor>Gray</ClearColor>
          <GammaLut>New_HALFINTENSITY_LUT_SALEEM20_20241118.bmp</GammaLut>
        </Builder>
      </Expression>
      <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.DrawViewport.bonsai">
        <X>0.333</X>
        <Y>0</Y>
        <Width>0.333</Width>
        <Height>1</Height>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="gl:UpdateRenderState">
          <gl:RenderState>
            <gl:StateConfiguration xsi:type="gl:ViewportState">
              <gl:X>0.333</gl:X>
              <gl:Y>0</gl:Y>
              <gl:Width>0.333</gl:Width>
              <gl:Height>1</gl:Height>
            </gl:StateConfiguration>
          </gl:RenderState>
        </Combinator>
      </Expression>
      <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.ViewWindow.bonsai">
        <Width>15</Width>
        <Height>19.5</Height>
        <Rotation>
          <X>0</X>
          <Y>-60.000001669652114</Y>
          <Z>0</Z>
        </Rotation>
        <Translation>
          <X>12</X>
          <Y>0</Y>
          <Z>-9</Z>
        </Translation>
      </Expression>
      <Expression xsi:type="Disable">
        <Builder xsi:type="IncludeWorkflow" Path="BonVision:Environment.GammaCorrection.bonsai">
          <ClearColor>Gray</ClearColor>
          <GammaLut>New_HALFINTENSITY_LUT_SALEEM20_20241118.bmp</GammaLut>
        </Builder>
      </Expression>
      <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.DrawViewport.bonsai">
        <X>0.667</X>
        <Y>0</Y>
        <Width>0.333</Width>
        <Height>1</Height>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="gl:UpdateRenderState">
          <gl:RenderState>
            <gl:StateConfiguration xsi:type="gl:ViewportState">
              <gl:X>0.665</gl:X>
              <gl:Y>0</gl:Y>
              <gl:Width>0.333</gl:Width>
              <gl:Height>1</gl:Height>
            </gl:StateConfiguration>
          </gl:RenderState>
        </Combinator>
      </Expression>
      <Expression xsi:type="MemberSelector">
        <Selector>TimeStep.ElapsedRealTime</Selector>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="rx:ElementIndex" />
      </Expression>
      <Expression xsi:type="MemberSelector">
        <Selector>Index</Selector>
      </Expression>
      <Expression xsi:type="rx:BehaviorSubject">
        <Name>RenderFrameCount</Name>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>Borders</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" DisplayName="TopBorder" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>60</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:ReplaySubject">
              <Name>Top</Name>
              <rx:BufferSize xsi:nil="true" />
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" DisplayName="BottomBorder" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>-60</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:ReplaySubject">
              <Name>Bottom</Name>
              <rx:BufferSize xsi:nil="true" />
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" DisplayName="LeftBorder" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>-120</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:ReplaySubject">
              <Name>Left</Name>
              <rx:BufferSize xsi:nil="true" />
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" DisplayName="RightBorder" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>120</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:ReplaySubject">
              <Name>Right</Name>
              <rx:BufferSize xsi:nil="true" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Zip" />
            </Expression>
            <Expression xsi:type="rx:ReplaySubject">
              <Name>Borders</Name>
              <rx:BufferSize xsi:nil="true" />
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="12" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="12" Label="Source2" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="8" To="12" Label="Source3" />
            <Edge From="9" To="10" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="11" To="12" Label="Source4" />
            <Edge From="12" To="13" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="WorkflowInput">
        <Name>Source1</Name>
      </Expression>
      <Expression xsi:type="ExternalizedMapping">
        <Property Name="Count" DisplayName="nReps" Category="Trial" />
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>Speed2D</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="WorkflowInput">
              <Name>Source1</Name>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="GroupWorkflow">
                <Name>S2_moveRight</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="WorkflowInput">
                      <Name>Source1</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="p1:MotionCoherenceSpecification">
                        <p1:Trials>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>0</p1:VelocityX1>
                            <p1:VelocityX2>0</p1:VelocityX2>
                            <p1:VelocityY1>0</p1:VelocityY1>
                            <p1:VelocityY2>0</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>16</p1:VelocityX1>
                            <p1:VelocityX2>16</p1:VelocityX2>
                            <p1:VelocityY1>0</p1:VelocityY1>
                            <p1:VelocityY2>0</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>32</p1:VelocityX1>
                            <p1:VelocityX2>32</p1:VelocityX2>
                            <p1:VelocityY1>0</p1:VelocityY1>
                            <p1:VelocityY2>0</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>64</p1:VelocityX1>
                            <p1:VelocityX2>64</p1:VelocityX2>
                            <p1:VelocityY1>0</p1:VelocityY1>
                            <p1:VelocityY2>0</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>128</p1:VelocityX1>
                            <p1:VelocityX2>128</p1:VelocityX2>
                            <p1:VelocityY1>0</p1:VelocityY1>
                            <p1:VelocityY2>0</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>256</p1:VelocityX1>
                            <p1:VelocityX2>256</p1:VelocityX2>
                            <p1:VelocityY1>0</p1:VelocityY1>
                            <p1:VelocityY2>0</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                        </p1:Trials>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="GroupWorkflow">
                      <Name>EnsureMotionCoherenceParameters</Name>
                      <Workflow>
                        <Nodes>
                          <Expression xsi:type="WorkflowInput">
                            <Name>Source1</Name>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:ElementIndex" />
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Index</Selector>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Duration</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Duration" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Size</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="DotSize" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Colour1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Colour1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Colour2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Colour2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.numDots1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="numDots1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.numDots2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="numDots2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.dotLifeBool</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="dotLifeBool" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="IntProperty">
                              <Value>0</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.dotLifetime</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="dotLifetime" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="IntProperty">
                              <Value>0</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Contrast1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Contrast1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Contrast2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Contrast2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.VelocityX1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="VelocityX1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.VelocityX2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="VelocityX2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.VelocityY1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="VelocityY1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.VelocityY2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="VelocityY2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Coherence1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Coherence1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Coherence2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Coherence2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="scr:ExpressionTransform">
                            <scr:Expression>new(
Item1.Item1 as Id,
Item1.Item2 as Duration,
Item1.Item3 as Size,
Item1.Item4 as Colour1,
Item1.Item5 as Colour2,
Item1.Item6 as numDots1,
Item1.Item7 as numDots2,

Item2.Item1 as dotLifeBool,
Item2.Item2 as dotLifetime,
Item2.Item3 as Contrast1,
Item2.Item4 as Contrast2,

Item3.Item1 as VelX1,
Item3.Item2 as VelX2,
Item3.Item3 as VelY1,
Item3.Item4 as VelY2,
Item3.Item5 as Coherence1,
Item3.Item6 as Coherence2)</scr:Expression>
                          </Expression>
                          <Expression xsi:type="WorkflowOutput" />
                        </Nodes>
                        <Edges>
                          <Edge From="0" To="1" Label="Source1" />
                          <Edge From="1" To="2" Label="Source1" />
                          <Edge From="1" To="3" Label="Source1" />
                          <Edge From="1" To="6" Label="Source1" />
                          <Edge From="1" To="9" Label="Source1" />
                          <Edge From="1" To="12" Label="Source1" />
                          <Edge From="1" To="15" Label="Source1" />
                          <Edge From="1" To="18" Label="Source1" />
                          <Edge From="1" To="22" Label="Source1" />
                          <Edge From="1" To="25" Label="Source1" />
                          <Edge From="1" To="28" Label="Source1" />
                          <Edge From="1" To="31" Label="Source1" />
                          <Edge From="1" To="35" Label="Source1" />
                          <Edge From="1" To="38" Label="Source1" />
                          <Edge From="1" To="41" Label="Source1" />
                          <Edge From="1" To="44" Label="Source1" />
                          <Edge From="1" To="47" Label="Source1" />
                          <Edge From="1" To="50" Label="Source1" />
                          <Edge From="2" To="21" Label="Source1" />
                          <Edge From="3" To="5" Label="Source1" />
                          <Edge From="4" To="5" Label="Source2" />
                          <Edge From="5" To="21" Label="Source2" />
                          <Edge From="6" To="8" Label="Source1" />
                          <Edge From="7" To="8" Label="Source2" />
                          <Edge From="8" To="21" Label="Source3" />
                          <Edge From="9" To="11" Label="Source1" />
                          <Edge From="10" To="11" Label="Source2" />
                          <Edge From="11" To="21" Label="Source4" />
                          <Edge From="12" To="14" Label="Source1" />
                          <Edge From="13" To="14" Label="Source2" />
                          <Edge From="14" To="21" Label="Source5" />
                          <Edge From="15" To="17" Label="Source1" />
                          <Edge From="16" To="17" Label="Source2" />
                          <Edge From="17" To="21" Label="Source6" />
                          <Edge From="18" To="20" Label="Source1" />
                          <Edge From="19" To="20" Label="Source2" />
                          <Edge From="20" To="21" Label="Source7" />
                          <Edge From="21" To="54" Label="Source1" />
                          <Edge From="22" To="24" Label="Source1" />
                          <Edge From="23" To="24" Label="Source2" />
                          <Edge From="24" To="34" Label="Source1" />
                          <Edge From="25" To="27" Label="Source1" />
                          <Edge From="26" To="27" Label="Source2" />
                          <Edge From="27" To="34" Label="Source2" />
                          <Edge From="28" To="30" Label="Source1" />
                          <Edge From="29" To="30" Label="Source2" />
                          <Edge From="30" To="34" Label="Source3" />
                          <Edge From="31" To="33" Label="Source1" />
                          <Edge From="32" To="33" Label="Source2" />
                          <Edge From="33" To="34" Label="Source4" />
                          <Edge From="34" To="54" Label="Source2" />
                          <Edge From="35" To="37" Label="Source1" />
                          <Edge From="36" To="37" Label="Source2" />
                          <Edge From="37" To="53" Label="Source1" />
                          <Edge From="38" To="40" Label="Source1" />
                          <Edge From="39" To="40" Label="Source2" />
                          <Edge From="40" To="53" Label="Source2" />
                          <Edge From="41" To="43" Label="Source1" />
                          <Edge From="42" To="43" Label="Source2" />
                          <Edge From="43" To="53" Label="Source3" />
                          <Edge From="44" To="46" Label="Source1" />
                          <Edge From="45" To="46" Label="Source2" />
                          <Edge From="46" To="53" Label="Source4" />
                          <Edge From="47" To="49" Label="Source1" />
                          <Edge From="48" To="49" Label="Source2" />
                          <Edge From="49" To="53" Label="Source5" />
                          <Edge From="50" To="52" Label="Source1" />
                          <Edge From="51" To="52" Label="Source2" />
                          <Edge From="52" To="53" Label="Source6" />
                          <Edge From="53" To="54" Label="Source3" />
                          <Edge From="54" To="55" Label="Source1" />
                          <Edge From="55" To="56" Label="Source1" />
                        </Edges>
                      </Workflow>
                    </Expression>
                    <Expression xsi:type="WorkflowOutput" />
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="1" Label="Source1" />
                    <Edge From="1" To="2" Label="Source1" />
                    <Edge From="2" To="3" Label="Source1" />
                  </Edges>
                </Workflow>
              </Builder>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>Blank</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p1:MotionCoherenceSpecification">
                      <p1:Trials>
                        <p1:MotionCoherenceParams>
                          <p1:Duration>1</p1:Duration>
                          <p1:Size xsi:nil="true" />
                          <p1:dotLifeBool xsi:nil="true" />
                          <p1:dotLifetime xsi:nil="true" />
                          <p1:Colour1 xsi:nil="true" />
                          <p1:Colour2 xsi:nil="true" />
                          <p1:numDots1>0</p1:numDots1>
                          <p1:numDots2>0</p1:numDots2>
                          <p1:Contrast1 xsi:nil="true" />
                          <p1:Contrast2 xsi:nil="true" />
                          <p1:VelocityX1 xsi:nil="true" />
                          <p1:VelocityX2 xsi:nil="true" />
                          <p1:VelocityY1 xsi:nil="true" />
                          <p1:VelocityY2 xsi:nil="true" />
                          <p1:Coherence1 xsi:nil="true" />
                          <p1:Coherence2 xsi:nil="true" />
                        </p1:MotionCoherenceParams>
                      </p1:Trials>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>EnsureMotionCoherenceParameters</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:ElementIndex" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Index</Selector>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Duration</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Duration" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Size</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="DotSize" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Colour1</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Colour1" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Colour2</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Colour2" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.numDots1</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="numDots1" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.numDots2</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="numDots2" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.dotLifeBool</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="dotLifeBool" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="IntProperty">
                            <Value>0</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.dotLifetime</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="dotLifetime" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="IntProperty">
                            <Value>0</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Contrast1</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Contrast1" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Contrast2</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Contrast2" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.VelocityX1</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="VelocityX1" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.VelocityX2</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="VelocityX2" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.VelocityY1</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="VelocityY1" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.VelocityY2</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="VelocityY2" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Coherence1</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Coherence1" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Coherence2</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Coherence2" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>new(
Item1.Item1 as Id,
Item1.Item2 as Duration,
Item1.Item3 as Size,
Item1.Item4 as Colour1,
Item1.Item5 as Colour2,
Item1.Item6 as numDots1,
Item1.Item7 as numDots2,

Item2.Item1 as dotLifeBool,
Item2.Item2 as dotLifetime,
Item2.Item3 as Contrast1,
Item2.Item4 as Contrast2,

Item3.Item1 as VelX1,
Item3.Item2 as VelX2,
Item3.Item3 as VelY1,
Item3.Item4 as VelY2,
Item3.Item5 as Coherence1,
Item3.Item6 as Coherence2)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="1" To="6" Label="Source1" />
                        <Edge From="1" To="9" Label="Source1" />
                        <Edge From="1" To="12" Label="Source1" />
                        <Edge From="1" To="15" Label="Source1" />
                        <Edge From="1" To="18" Label="Source1" />
                        <Edge From="1" To="22" Label="Source1" />
                        <Edge From="1" To="25" Label="Source1" />
                        <Edge From="1" To="28" Label="Source1" />
                        <Edge From="1" To="31" Label="Source1" />
                        <Edge From="1" To="35" Label="Source1" />
                        <Edge From="1" To="38" Label="Source1" />
                        <Edge From="1" To="41" Label="Source1" />
                        <Edge From="1" To="44" Label="Source1" />
                        <Edge From="1" To="47" Label="Source1" />
                        <Edge From="1" To="50" Label="Source1" />
                        <Edge From="2" To="21" Label="Source1" />
                        <Edge From="3" To="5" Label="Source1" />
                        <Edge From="4" To="5" Label="Source2" />
                        <Edge From="5" To="21" Label="Source2" />
                        <Edge From="6" To="8" Label="Source1" />
                        <Edge From="7" To="8" Label="Source2" />
                        <Edge From="8" To="21" Label="Source3" />
                        <Edge From="9" To="11" Label="Source1" />
                        <Edge From="10" To="11" Label="Source2" />
                        <Edge From="11" To="21" Label="Source4" />
                        <Edge From="12" To="14" Label="Source1" />
                        <Edge From="13" To="14" Label="Source2" />
                        <Edge From="14" To="21" Label="Source5" />
                        <Edge From="15" To="17" Label="Source1" />
                        <Edge From="16" To="17" Label="Source2" />
                        <Edge From="17" To="21" Label="Source6" />
                        <Edge From="18" To="20" Label="Source1" />
                        <Edge From="19" To="20" Label="Source2" />
                        <Edge From="20" To="21" Label="Source7" />
                        <Edge From="21" To="54" Label="Source1" />
                        <Edge From="22" To="24" Label="Source1" />
                        <Edge From="23" To="24" Label="Source2" />
                        <Edge From="24" To="34" Label="Source1" />
                        <Edge From="25" To="27" Label="Source1" />
                        <Edge From="26" To="27" Label="Source2" />
                        <Edge From="27" To="34" Label="Source2" />
                        <Edge From="28" To="30" Label="Source1" />
                        <Edge From="29" To="30" Label="Source2" />
                        <Edge From="30" To="34" Label="Source3" />
                        <Edge From="31" To="33" Label="Source1" />
                        <Edge From="32" To="33" Label="Source2" />
                        <Edge From="33" To="34" Label="Source4" />
                        <Edge From="34" To="54" Label="Source2" />
                        <Edge From="35" To="37" Label="Source1" />
                        <Edge From="36" To="37" Label="Source2" />
                        <Edge From="37" To="53" Label="Source1" />
                        <Edge From="38" To="40" Label="Source1" />
                        <Edge From="39" To="40" Label="Source2" />
                        <Edge From="40" To="53" Label="Source2" />
                        <Edge From="41" To="43" Label="Source1" />
                        <Edge From="42" To="43" Label="Source2" />
                        <Edge From="43" To="53" Label="Source3" />
                        <Edge From="44" To="46" Label="Source1" />
                        <Edge From="45" To="46" Label="Source2" />
                        <Edge From="46" To="53" Label="Source4" />
                        <Edge From="47" To="49" Label="Source1" />
                        <Edge From="48" To="49" Label="Source2" />
                        <Edge From="49" To="53" Label="Source5" />
                        <Edge From="50" To="52" Label="Source1" />
                        <Edge From="51" To="52" Label="Source2" />
                        <Edge From="52" To="53" Label="Source6" />
                        <Edge From="53" To="54" Label="Source3" />
                        <Edge From="54" To="55" Label="Source1" />
                        <Edge From="55" To="56" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>S2_moveLeft</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p1:MotionCoherenceSpecification">
                      <p1:Trials>
                        <p1:MotionCoherenceParams>
                          <p1:Duration>1</p1:Duration>
                          <p1:Size>2</p1:Size>
                          <p1:dotLifeBool>0</p1:dotLifeBool>
                          <p1:dotLifetime>1</p1:dotLifetime>
                          <p1:Colour1>0</p1:Colour1>
                          <p1:Colour2>1</p1:Colour2>
                          <p1:numDots1>573</p1:numDots1>
                          <p1:numDots2>573</p1:numDots2>
                          <p1:Contrast1>1</p1:Contrast1>
                          <p1:Contrast2>1</p1:Contrast2>
                          <p1:VelocityX1>0</p1:VelocityX1>
                          <p1:VelocityX2>0</p1:VelocityX2>
                          <p1:VelocityY1>0</p1:VelocityY1>
                          <p1:VelocityY2>0</p1:VelocityY2>
                          <p1:Coherence1>100</p1:Coherence1>
                          <p1:Coherence2>100</p1:Coherence2>
                        </p1:MotionCoherenceParams>
                        <p1:MotionCoherenceParams>
                          <p1:Duration>1</p1:Duration>
                          <p1:Size>2</p1:Size>
                          <p1:dotLifeBool>0</p1:dotLifeBool>
                          <p1:dotLifetime>1</p1:dotLifetime>
                          <p1:Colour1>0</p1:Colour1>
                          <p1:Colour2>1</p1:Colour2>
                          <p1:numDots1>573</p1:numDots1>
                          <p1:numDots2>573</p1:numDots2>
                          <p1:Contrast1>1</p1:Contrast1>
                          <p1:Contrast2>1</p1:Contrast2>
                          <p1:VelocityX1>-16</p1:VelocityX1>
                          <p1:VelocityX2>-16</p1:VelocityX2>
                          <p1:VelocityY1>0</p1:VelocityY1>
                          <p1:VelocityY2>0</p1:VelocityY2>
                          <p1:Coherence1>100</p1:Coherence1>
                          <p1:Coherence2>100</p1:Coherence2>
                        </p1:MotionCoherenceParams>
                        <p1:MotionCoherenceParams>
                          <p1:Duration>1</p1:Duration>
                          <p1:Size>2</p1:Size>
                          <p1:dotLifeBool>0</p1:dotLifeBool>
                          <p1:dotLifetime>1</p1:dotLifetime>
                          <p1:Colour1>0</p1:Colour1>
                          <p1:Colour2>1</p1:Colour2>
                          <p1:numDots1>573</p1:numDots1>
                          <p1:numDots2>573</p1:numDots2>
                          <p1:Contrast1>1</p1:Contrast1>
                          <p1:Contrast2>1</p1:Contrast2>
                          <p1:VelocityX1>-32</p1:VelocityX1>
                          <p1:VelocityX2>-32</p1:VelocityX2>
                          <p1:VelocityY1>0</p1:VelocityY1>
                          <p1:VelocityY2>0</p1:VelocityY2>
                          <p1:Coherence1>100</p1:Coherence1>
                          <p1:Coherence2>100</p1:Coherence2>
                        </p1:MotionCoherenceParams>
                        <p1:MotionCoherenceParams>
                          <p1:Duration>1</p1:Duration>
                          <p1:Size>2</p1:Size>
                          <p1:dotLifeBool>0</p1:dotLifeBool>
                          <p1:dotLifetime>1</p1:dotLifetime>
                          <p1:Colour1>0</p1:Colour1>
                          <p1:Colour2>1</p1:Colour2>
                          <p1:numDots1>573</p1:numDots1>
                          <p1:numDots2>573</p1:numDots2>
                          <p1:Contrast1>1</p1:Contrast1>
                          <p1:Contrast2>1</p1:Contrast2>
                          <p1:VelocityX1>-64</p1:VelocityX1>
                          <p1:VelocityX2>-64</p1:VelocityX2>
                          <p1:VelocityY1>0</p1:VelocityY1>
                          <p1:VelocityY2>0</p1:VelocityY2>
                          <p1:Coherence1>100</p1:Coherence1>
                          <p1:Coherence2>100</p1:Coherence2>
                        </p1:MotionCoherenceParams>
                        <p1:MotionCoherenceParams>
                          <p1:Duration>1</p1:Duration>
                          <p1:Size>2</p1:Size>
                          <p1:dotLifeBool>0</p1:dotLifeBool>
                          <p1:dotLifetime>1</p1:dotLifetime>
                          <p1:Colour1>0</p1:Colour1>
                          <p1:Colour2>1</p1:Colour2>
                          <p1:numDots1>573</p1:numDots1>
                          <p1:numDots2>573</p1:numDots2>
                          <p1:Contrast1>1</p1:Contrast1>
                          <p1:Contrast2>1</p1:Contrast2>
                          <p1:VelocityX1>-128</p1:VelocityX1>
                          <p1:VelocityX2>-128</p1:VelocityX2>
                          <p1:VelocityY1>0</p1:VelocityY1>
                          <p1:VelocityY2>0</p1:VelocityY2>
                          <p1:Coherence1>100</p1:Coherence1>
                          <p1:Coherence2>100</p1:Coherence2>
                        </p1:MotionCoherenceParams>
                        <p1:MotionCoherenceParams>
                          <p1:Duration>1</p1:Duration>
                          <p1:Size>2</p1:Size>
                          <p1:dotLifeBool>0</p1:dotLifeBool>
                          <p1:dotLifetime>1</p1:dotLifetime>
                          <p1:Colour1>0</p1:Colour1>
                          <p1:Colour2>1</p1:Colour2>
                          <p1:numDots1>573</p1:numDots1>
                          <p1:numDots2>573</p1:numDots2>
                          <p1:Contrast1>1</p1:Contrast1>
                          <p1:Contrast2>1</p1:Contrast2>
                          <p1:VelocityX1>-256</p1:VelocityX1>
                          <p1:VelocityX2>-256</p1:VelocityX2>
                          <p1:VelocityY1>0</p1:VelocityY1>
                          <p1:VelocityY2>0</p1:VelocityY2>
                          <p1:Coherence1>100</p1:Coherence1>
                          <p1:Coherence2>100</p1:Coherence2>
                        </p1:MotionCoherenceParams>
                      </p1:Trials>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>EnsureMotionCoherenceParameters</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:ElementIndex" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Index</Selector>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Duration</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Duration" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Size</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="DotSize" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Colour1</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Colour1" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Colour2</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Colour2" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.numDots1</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="numDots1" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.numDots2</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="numDots2" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.dotLifeBool</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="dotLifeBool" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="IntProperty">
                            <Value>0</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.dotLifetime</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="dotLifetime" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="IntProperty">
                            <Value>0</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Contrast1</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Contrast1" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Contrast2</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Contrast2" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.VelocityX1</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="VelocityX1" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.VelocityX2</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="VelocityX2" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.VelocityY1</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="VelocityY1" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.VelocityY2</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="VelocityY2" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Coherence1</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Coherence1" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Coherence2</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Coherence2" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>new(
Item1.Item1 as Id,
Item1.Item2 as Duration,
Item1.Item3 as Size,
Item1.Item4 as Colour1,
Item1.Item5 as Colour2,
Item1.Item6 as numDots1,
Item1.Item7 as numDots2,

Item2.Item1 as dotLifeBool,
Item2.Item2 as dotLifetime,
Item2.Item3 as Contrast1,
Item2.Item4 as Contrast2,

Item3.Item1 as VelX1,
Item3.Item2 as VelX2,
Item3.Item3 as VelY1,
Item3.Item4 as VelY2,
Item3.Item5 as Coherence1,
Item3.Item6 as Coherence2)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="1" To="6" Label="Source1" />
                        <Edge From="1" To="9" Label="Source1" />
                        <Edge From="1" To="12" Label="Source1" />
                        <Edge From="1" To="15" Label="Source1" />
                        <Edge From="1" To="18" Label="Source1" />
                        <Edge From="1" To="22" Label="Source1" />
                        <Edge From="1" To="25" Label="Source1" />
                        <Edge From="1" To="28" Label="Source1" />
                        <Edge From="1" To="31" Label="Source1" />
                        <Edge From="1" To="35" Label="Source1" />
                        <Edge From="1" To="38" Label="Source1" />
                        <Edge From="1" To="41" Label="Source1" />
                        <Edge From="1" To="44" Label="Source1" />
                        <Edge From="1" To="47" Label="Source1" />
                        <Edge From="1" To="50" Label="Source1" />
                        <Edge From="2" To="21" Label="Source1" />
                        <Edge From="3" To="5" Label="Source1" />
                        <Edge From="4" To="5" Label="Source2" />
                        <Edge From="5" To="21" Label="Source2" />
                        <Edge From="6" To="8" Label="Source1" />
                        <Edge From="7" To="8" Label="Source2" />
                        <Edge From="8" To="21" Label="Source3" />
                        <Edge From="9" To="11" Label="Source1" />
                        <Edge From="10" To="11" Label="Source2" />
                        <Edge From="11" To="21" Label="Source4" />
                        <Edge From="12" To="14" Label="Source1" />
                        <Edge From="13" To="14" Label="Source2" />
                        <Edge From="14" To="21" Label="Source5" />
                        <Edge From="15" To="17" Label="Source1" />
                        <Edge From="16" To="17" Label="Source2" />
                        <Edge From="17" To="21" Label="Source6" />
                        <Edge From="18" To="20" Label="Source1" />
                        <Edge From="19" To="20" Label="Source2" />
                        <Edge From="20" To="21" Label="Source7" />
                        <Edge From="21" To="54" Label="Source1" />
                        <Edge From="22" To="24" Label="Source1" />
                        <Edge From="23" To="24" Label="Source2" />
                        <Edge From="24" To="34" Label="Source1" />
                        <Edge From="25" To="27" Label="Source1" />
                        <Edge From="26" To="27" Label="Source2" />
                        <Edge From="27" To="34" Label="Source2" />
                        <Edge From="28" To="30" Label="Source1" />
                        <Edge From="29" To="30" Label="Source2" />
                        <Edge From="30" To="34" Label="Source3" />
                        <Edge From="31" To="33" Label="Source1" />
                        <Edge From="32" To="33" Label="Source2" />
                        <Edge From="33" To="34" Label="Source4" />
                        <Edge From="34" To="54" Label="Source2" />
                        <Edge From="35" To="37" Label="Source1" />
                        <Edge From="36" To="37" Label="Source2" />
                        <Edge From="37" To="53" Label="Source1" />
                        <Edge From="38" To="40" Label="Source1" />
                        <Edge From="39" To="40" Label="Source2" />
                        <Edge From="40" To="53" Label="Source2" />
                        <Edge From="41" To="43" Label="Source1" />
                        <Edge From="42" To="43" Label="Source2" />
                        <Edge From="43" To="53" Label="Source3" />
                        <Edge From="44" To="46" Label="Source1" />
                        <Edge From="45" To="46" Label="Source2" />
                        <Edge From="46" To="53" Label="Source4" />
                        <Edge From="47" To="49" Label="Source1" />
                        <Edge From="48" To="49" Label="Source2" />
                        <Edge From="49" To="53" Label="Source5" />
                        <Edge From="50" To="52" Label="Source1" />
                        <Edge From="51" To="52" Label="Source2" />
                        <Edge From="52" To="53" Label="Source6" />
                        <Edge From="53" To="54" Label="Source3" />
                        <Edge From="54" To="55" Label="Source1" />
                        <Edge From="55" To="56" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Concat" />
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Random</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="num:Permutation" />
            </Expression>
            <Expression xsi:type="rx:CreateObservable">
              <Name>CreateTrial</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>DrawStimulus</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Borders</Name>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="top" Selector="Item1" />
                            <Property Name="bottom" Selector="Item2" />
                            <Property Name="left" Selector="Item3" />
                            <Property Name="right" Selector="Item4" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>numDots1</Selector>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="numDots" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>10</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Timestamp" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Timestamp.TimeOfDay.Seconds</Selector>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="rndseed" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="p1:GenerateDotField">
                            <p1:numDots>573</p1:numDots>
                            <p1:left>-120</p1:left>
                            <p1:right>120</p1:right>
                            <p1:top>60</p1:top>
                            <p1:bottom>-60</p1:bottom>
                            <p1:rndseed>15</p1:rndseed>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>dotLifetime</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="gl:UpdateFrame" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>TimeStep.ElapsedTime</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="Divide" />
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="dotLifetime" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="p1:GenerateDotLives">
                            <p1:dotLifetime>60</p1:dotLifetime>
                            <p1:numDots>573</p1:numDots>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Size</Selector>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="Diameter" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>VelX1</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="Multiply" />
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="VelocityX" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>VelY1</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="Multiply" />
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="VelocityY" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Coherence1</Selector>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="Coherence" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Contrast1</Selector>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="ColorA" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Colour1</Selector>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="ColorR" />
                            <Property Name="ColorG" />
                            <Property Name="ColorB" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>dotLifeBool</Selector>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="dotLifetimeBool" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>StimulusXLoc</Name>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="LocationX" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>DrawMovingCircleArray-2d</Name>
                          <Description>Draws multiple colored circles using the input array as position data.</Description>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="VelocityX" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="VelocityY" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Coherence" />
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Borders</Name>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="top" Selector="Item1" />
                                  <Property Name="bottom" Selector="Item2" />
                                  <Property Name="left" Selector="Item3" />
                                  <Property Name="right" Selector="Item4" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="dotLifetimeBool" />
                                <Property Name="dotLifetime" />
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1</Selector>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>DrawStimuli</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="gl:UpdateUniform">
                                  <gl:UniformName>projection</gl:UniformName>
                                  <gl:ShaderName>CircleArray</gl:ShaderName>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="LocationX" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="LocationY" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="Diameter" />
                              </Expression>
                              <Expression xsi:type="PropertySource" TypeArguments="gl:CreateScale,sys:Single">
                                <MemberName>X</MemberName>
                                <Value>2</Value>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="ExtentX" />
                                  <Property Name="ExtentY" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>Transform</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="X" DisplayName="LocationX" />
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Y" DisplayName="LocationY" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="gl:CreateTranslation">
                                        <gl:X>-120</gl:X>
                                        <gl:Y>0</gl:Y>
                                        <gl:Z>0</gl:Z>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="X" DisplayName="ExtentX" />
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Y" DisplayName="ExtentY" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="gl:Scale">
                                        <gl:Order>Prepend</gl:Order>
                                        <gl:X>2</gl:X>
                                        <gl:Y>2</gl:Y>
                                        <gl:Z>1</gl:Z>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Angle" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="gl:RotateZ">
                                        <gl:Order>Prepend</gl:Order>
                                        <gl:Angle>0</gl:Angle>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="gl:UpdateUniform">
                                        <gl:UniformName>transform</gl:UniformName>
                                        <gl:ShaderName>CircleArray</gl:ShaderName>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="3" Label="Source1" />
                                    <Edge From="1" To="3" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source3" />
                                    <Edge From="3" To="6" Label="Source1" />
                                    <Edge From="4" To="6" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source3" />
                                    <Edge From="6" To="8" Label="Source1" />
                                    <Edge From="7" To="8" Label="Source2" />
                                    <Edge From="8" To="9" Label="Source1" />
                                    <Edge From="9" To="10" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="ColorR" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="X" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="ColorG" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="Y" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="ColorB" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="Z" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="ColorA" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="W" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="gl:CreateVector4">
                                  <gl:X>0</gl:X>
                                  <gl:Y>0</gl:Y>
                                  <gl:Z>0</gl:Z>
                                  <gl:W>1</gl:W>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="gl:UpdateUniform">
                                  <gl:UniformName>color</gl:UniformName>
                                  <gl:ShaderName>CircleArray</gl:ShaderName>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Sample" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1</Selector>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="p1:moveDots_2dLife">
                                  <p1:VelocityX>-2.13333344</p1:VelocityX>
                                  <p1:VelocityY>0</p1:VelocityY>
                                  <p1:Coherence>100</p1:Coherence>
                                  <p1:dotLifetimeBool>0</p1:dotLifetimeBool>
                                  <p1:dotLifetime>60</p1:dotLifetime>
                                  <p1:left>-120</p1:left>
                                  <p1:right>120</p1:right>
                                  <p1:top>60</p1:top>
                                  <p1:bottom>-60</p1:bottom>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="gl:DrawMeshInstanced">
                                  <gl:ShaderName>CircleArray</gl:ShaderName>
                                  <gl:MeshName>Quad</gl:MeshName>
                                  <gl:Usage>DynamicDraw</gl:Usage>
                                  <gl:InstanceAttributes>
                                    <gl:InstanceAttributeMapping>
                                      <gl:Size>2</gl:Size>
                                      <gl:Normalized>false</gl:Normalized>
                                      <gl:Type>Float</gl:Type>
                                      <gl:Divisor>1</gl:Divisor>
                                    </gl:InstanceAttributeMapping>
                                  </gl:InstanceAttributes>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="35" Label="Source1" />
                              <Edge From="1" To="35" Label="Source2" />
                              <Edge From="2" To="35" Label="Source3" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="35" Label="Source4" />
                              <Edge From="5" To="35" Label="Source5" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="6" To="33" Label="Source1" />
                              <Edge From="7" To="30" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="15" Label="Source1" />
                              <Edge From="10" To="15" Label="Source2" />
                              <Edge From="11" To="15" Label="Source3" />
                              <Edge From="12" To="13" Label="Source1" />
                              <Edge From="13" To="14" Label="Source1" />
                              <Edge From="14" To="15" Label="Source4" />
                              <Edge From="15" To="28" Label="Source1" />
                              <Edge From="16" To="17" Label="Source1" />
                              <Edge From="17" To="18" Label="Source1" />
                              <Edge From="18" To="28" Label="Source2" />
                              <Edge From="19" To="20" Label="Source1" />
                              <Edge From="20" To="21" Label="Source1" />
                              <Edge From="21" To="28" Label="Source3" />
                              <Edge From="22" To="23" Label="Source1" />
                              <Edge From="23" To="24" Label="Source1" />
                              <Edge From="24" To="28" Label="Source4" />
                              <Edge From="25" To="26" Label="Source1" />
                              <Edge From="26" To="27" Label="Source1" />
                              <Edge From="27" To="28" Label="Source5" />
                              <Edge From="28" To="29" Label="Source1" />
                              <Edge From="29" To="30" Label="Source2" />
                              <Edge From="29" To="31" Label="Source2" />
                              <Edge From="30" To="31" Label="Source1" />
                              <Edge From="31" To="32" Label="Source1" />
                              <Edge From="32" To="34" Label="Source1" />
                              <Edge From="33" To="34" Label="Source2" />
                              <Edge From="34" To="35" Label="Source6" />
                              <Edge From="35" To="36" Label="Source1" />
                              <Edge From="36" To="37" Label="Source1" />
                              <Edge From="37" To="38" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>numDots2</Selector>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="numDots" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>10</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Timestamp" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Timestamp.TimeOfDay.Seconds</Selector>
                        </Expression>
                        <Expression xsi:type="Add">
                          <Operand xsi:type="IntProperty">
                            <Value>99</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="rndseed" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="p1:GenerateDotField">
                            <p1:numDots>573</p1:numDots>
                            <p1:left>-120</p1:left>
                            <p1:right>120</p1:right>
                            <p1:top>60</p1:top>
                            <p1:bottom>-60</p1:bottom>
                            <p1:rndseed>114</p1:rndseed>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>dotLifetime</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="Divide" />
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="dotLifetime" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="p1:GenerateDotLives">
                            <p1:dotLifetime>60</p1:dotLifetime>
                            <p1:numDots>573</p1:numDots>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>VelX2</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="Multiply" />
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="VelocityX" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>VelY2</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="Multiply" />
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="VelocityY" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Coherence2</Selector>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="Coherence" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Contrast2</Selector>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="ColorA" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Colour2</Selector>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="ColorR" />
                            <Property Name="ColorG" />
                            <Property Name="ColorB" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>StimulusXLoc</Name>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="LocationX" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>DrawMovingCircleArray-2d</Name>
                          <Description>Draws multiple colored circles using the input array as position data.</Description>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="VelocityX" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="VelocityY" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Coherence" />
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Borders</Name>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="top" Selector="Item1" />
                                  <Property Name="bottom" Selector="Item2" />
                                  <Property Name="left" Selector="Item3" />
                                  <Property Name="right" Selector="Item4" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="dotLifetimeBool" />
                                <Property Name="dotLifetime" />
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1</Selector>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>DrawStimuli</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="gl:UpdateUniform">
                                  <gl:UniformName>projection</gl:UniformName>
                                  <gl:ShaderName>CircleArray</gl:ShaderName>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="LocationX" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="LocationY" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="Diameter" />
                              </Expression>
                              <Expression xsi:type="PropertySource" TypeArguments="gl:CreateScale,sys:Single">
                                <MemberName>X</MemberName>
                                <Value>2</Value>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="ExtentX" />
                                  <Property Name="ExtentY" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>Transform</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="X" DisplayName="LocationX" />
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Y" DisplayName="LocationY" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="gl:CreateTranslation">
                                        <gl:X>-120</gl:X>
                                        <gl:Y>0</gl:Y>
                                        <gl:Z>0</gl:Z>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="X" DisplayName="ExtentX" />
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Y" DisplayName="ExtentY" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="gl:Scale">
                                        <gl:Order>Prepend</gl:Order>
                                        <gl:X>2</gl:X>
                                        <gl:Y>2</gl:Y>
                                        <gl:Z>1</gl:Z>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Angle" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="gl:RotateZ">
                                        <gl:Order>Prepend</gl:Order>
                                        <gl:Angle>0</gl:Angle>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="gl:UpdateUniform">
                                        <gl:UniformName>transform</gl:UniformName>
                                        <gl:ShaderName>CircleArray</gl:ShaderName>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="3" Label="Source1" />
                                    <Edge From="1" To="3" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source3" />
                                    <Edge From="3" To="6" Label="Source1" />
                                    <Edge From="4" To="6" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source3" />
                                    <Edge From="6" To="8" Label="Source1" />
                                    <Edge From="7" To="8" Label="Source2" />
                                    <Edge From="8" To="9" Label="Source1" />
                                    <Edge From="9" To="10" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="ColorR" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="X" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="ColorG" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="Y" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="ColorB" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="Z" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="ColorA" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="W" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="gl:CreateVector4">
                                  <gl:X>1</gl:X>
                                  <gl:Y>1</gl:Y>
                                  <gl:Z>1</gl:Z>
                                  <gl:W>1</gl:W>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="gl:UpdateUniform">
                                  <gl:UniformName>color</gl:UniformName>
                                  <gl:ShaderName>CircleArray</gl:ShaderName>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Sample" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1</Selector>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="p1:moveDots_2dLife">
                                  <p1:VelocityX>-2.13333344</p1:VelocityX>
                                  <p1:VelocityY>0</p1:VelocityY>
                                  <p1:Coherence>100</p1:Coherence>
                                  <p1:dotLifetimeBool>0</p1:dotLifetimeBool>
                                  <p1:dotLifetime>60</p1:dotLifetime>
                                  <p1:left>-120</p1:left>
                                  <p1:right>120</p1:right>
                                  <p1:top>60</p1:top>
                                  <p1:bottom>-60</p1:bottom>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="gl:DrawMeshInstanced">
                                  <gl:ShaderName>CircleArray</gl:ShaderName>
                                  <gl:MeshName>Quad</gl:MeshName>
                                  <gl:Usage>DynamicDraw</gl:Usage>
                                  <gl:InstanceAttributes>
                                    <gl:InstanceAttributeMapping>
                                      <gl:Size>2</gl:Size>
                                      <gl:Normalized>false</gl:Normalized>
                                      <gl:Type>Float</gl:Type>
                                      <gl:Divisor>1</gl:Divisor>
                                    </gl:InstanceAttributeMapping>
                                  </gl:InstanceAttributes>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="35" Label="Source1" />
                              <Edge From="1" To="35" Label="Source2" />
                              <Edge From="2" To="35" Label="Source3" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="35" Label="Source4" />
                              <Edge From="5" To="35" Label="Source5" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="6" To="33" Label="Source1" />
                              <Edge From="7" To="30" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="15" Label="Source1" />
                              <Edge From="10" To="15" Label="Source2" />
                              <Edge From="11" To="15" Label="Source3" />
                              <Edge From="12" To="13" Label="Source1" />
                              <Edge From="13" To="14" Label="Source1" />
                              <Edge From="14" To="15" Label="Source4" />
                              <Edge From="15" To="28" Label="Source1" />
                              <Edge From="16" To="17" Label="Source1" />
                              <Edge From="17" To="18" Label="Source1" />
                              <Edge From="18" To="28" Label="Source2" />
                              <Edge From="19" To="20" Label="Source1" />
                              <Edge From="20" To="21" Label="Source1" />
                              <Edge From="21" To="28" Label="Source3" />
                              <Edge From="22" To="23" Label="Source1" />
                              <Edge From="23" To="24" Label="Source1" />
                              <Edge From="24" To="28" Label="Source4" />
                              <Edge From="25" To="26" Label="Source1" />
                              <Edge From="26" To="27" Label="Source1" />
                              <Edge From="27" To="28" Label="Source5" />
                              <Edge From="28" To="29" Label="Source1" />
                              <Edge From="29" To="30" Label="Source2" />
                              <Edge From="29" To="31" Label="Source2" />
                              <Edge From="30" To="31" Label="Source1" />
                              <Edge From="31" To="32" Label="Source1" />
                              <Edge From="32" To="34" Label="Source1" />
                              <Edge From="33" To="34" Label="Source2" />
                              <Edge From="34" To="35" Label="Source6" />
                              <Edge From="35" To="36" Label="Source1" />
                              <Edge From="36" To="37" Label="Source1" />
                              <Edge From="37" To="38" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="Combinator">
                            <Combinator xsi:type="rx:Timer">
                              <rx:DueTime>PT0.05S</rx:DueTime>
                              <rx:Period>PT0S</rx:Period>
                            </Combinator>
                          </Builder>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="Combinator">
                            <Combinator xsi:type="rx:SubscribeWhen" />
                          </Builder>
                        </Expression>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Duration</Selector>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="DueTime" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="gl:Timer">
                            <gl:DueTime>PT1S</gl:DueTime>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:TakeUntil" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Last" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Lower" DisplayName="ISI lower bound" />
                          <Property Name="Upper" DisplayName="ISI upper bound" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="p2:CreateContinuousUniform">
                            <p2:Lower>1</p2:Lower>
                            <p2:Upper>1</p2:Upper>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="p2:Sample" />
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="DueTime" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="gl:Delay">
                            <gl:DueTime>PT1S</gl:DueTime>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Unit" />
                        <Expression xsi:type="WorkflowOutput" />
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="FloatProperty">
                            <Value>0</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>DrawStimuli</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>QuadState</Name>
                        </Expression>
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="9" Label="Source1" />
                        <Edge From="1" To="56" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="9" Label="Source2" />
                        <Edge From="4" To="18" Label="Source1" />
                        <Edge From="5" To="6" Label="Source1" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="9" Label="Source3" />
                        <Edge From="9" To="19" Label="Source1" />
                        <Edge From="10" To="11" Label="Source1" />
                        <Edge From="11" To="15" Label="Source1" />
                        <Edge From="12" To="13" Label="Source1" />
                        <Edge From="13" To="14" Label="Source1" />
                        <Edge From="14" To="15" Label="Source2" />
                        <Edge From="14" To="25" Label="Source1" />
                        <Edge From="14" To="30" Label="Source1" />
                        <Edge From="14" To="59" Label="Source2" />
                        <Edge From="14" To="66" Label="Source1" />
                        <Edge From="14" To="71" Label="Source1" />
                        <Edge From="15" To="16" Label="Source1" />
                        <Edge From="16" To="17" Label="Source1" />
                        <Edge From="17" To="18" Label="Source2" />
                        <Edge From="17" To="47" Label="Source9" />
                        <Edge From="18" To="19" Label="Source2" />
                        <Edge From="19" To="47" Label="Source1" />
                        <Edge From="20" To="21" Label="Source1" />
                        <Edge From="21" To="22" Label="Source1" />
                        <Edge From="22" To="47" Label="Source2" />
                        <Edge From="22" To="85" Label="Source2" />
                        <Edge From="23" To="24" Label="Source1" />
                        <Edge From="24" To="25" Label="Source2" />
                        <Edge From="25" To="26" Label="Source1" />
                        <Edge From="26" To="27" Label="Source1" />
                        <Edge From="27" To="47" Label="Source3" />
                        <Edge From="28" To="29" Label="Source1" />
                        <Edge From="29" To="30" Label="Source2" />
                        <Edge From="30" To="31" Label="Source1" />
                        <Edge From="31" To="32" Label="Source1" />
                        <Edge From="32" To="47" Label="Source4" />
                        <Edge From="33" To="34" Label="Source1" />
                        <Edge From="34" To="35" Label="Source1" />
                        <Edge From="35" To="47" Label="Source5" />
                        <Edge From="36" To="37" Label="Source1" />
                        <Edge From="37" To="38" Label="Source1" />
                        <Edge From="38" To="47" Label="Source6" />
                        <Edge From="39" To="40" Label="Source1" />
                        <Edge From="40" To="41" Label="Source1" />
                        <Edge From="41" To="47" Label="Source7" />
                        <Edge From="42" To="43" Label="Source1" />
                        <Edge From="43" To="44" Label="Source1" />
                        <Edge From="44" To="47" Label="Source8" />
                        <Edge From="44" To="85" Label="Source8" />
                        <Edge From="45" To="46" Label="Source1" />
                        <Edge From="46" To="47" Label="Source10" />
                        <Edge From="47" To="86" Label="Source1" />
                        <Edge From="48" To="49" Label="Source1" />
                        <Edge From="49" To="50" Label="Source1" />
                        <Edge From="50" To="56" Label="Source2" />
                        <Edge From="50" To="62" Label="Source1" />
                        <Edge From="51" To="52" Label="Source1" />
                        <Edge From="52" To="53" Label="Source1" />
                        <Edge From="53" To="54" Label="Source1" />
                        <Edge From="54" To="55" Label="Source1" />
                        <Edge From="55" To="56" Label="Source3" />
                        <Edge From="56" To="63" Label="Source1" />
                        <Edge From="57" To="58" Label="Source1" />
                        <Edge From="58" To="59" Label="Source1" />
                        <Edge From="59" To="60" Label="Source1" />
                        <Edge From="60" To="61" Label="Source1" />
                        <Edge From="61" To="62" Label="Source2" />
                        <Edge From="61" To="85" Label="Source9" />
                        <Edge From="62" To="63" Label="Source2" />
                        <Edge From="63" To="85" Label="Source1" />
                        <Edge From="64" To="65" Label="Source1" />
                        <Edge From="65" To="66" Label="Source2" />
                        <Edge From="66" To="67" Label="Source1" />
                        <Edge From="67" To="68" Label="Source1" />
                        <Edge From="68" To="85" Label="Source3" />
                        <Edge From="69" To="70" Label="Source1" />
                        <Edge From="70" To="71" Label="Source2" />
                        <Edge From="71" To="72" Label="Source1" />
                        <Edge From="72" To="73" Label="Source1" />
                        <Edge From="73" To="85" Label="Source4" />
                        <Edge From="74" To="75" Label="Source1" />
                        <Edge From="75" To="76" Label="Source1" />
                        <Edge From="76" To="85" Label="Source5" />
                        <Edge From="77" To="78" Label="Source1" />
                        <Edge From="78" To="79" Label="Source1" />
                        <Edge From="79" To="85" Label="Source6" />
                        <Edge From="80" To="81" Label="Source1" />
                        <Edge From="81" To="82" Label="Source1" />
                        <Edge From="82" To="85" Label="Source7" />
                        <Edge From="83" To="84" Label="Source1" />
                        <Edge From="84" To="85" Label="Source10" />
                        <Edge From="85" To="86" Label="Source2" />
                        <Edge From="86" To="88" Label="Source1" />
                        <Edge From="87" To="88" Label="Source2" />
                        <Edge From="88" To="94" Label="Source1" />
                        <Edge From="89" To="90" Label="Source1" />
                        <Edge From="90" To="91" Label="Source1" />
                        <Edge From="91" To="92" Label="Source1" />
                        <Edge From="92" To="93" Label="Source1" />
                        <Edge From="93" To="94" Label="Source2" />
                        <Edge From="94" To="95" Label="Source1" />
                        <Edge From="95" To="101" Label="Source1" />
                        <Edge From="95" To="104" Label="Source1" />
                        <Edge From="96" To="97" Label="Source1" />
                        <Edge From="97" To="98" Label="Source1" />
                        <Edge From="98" To="99" Label="Source1" />
                        <Edge From="99" To="100" Label="Source1" />
                        <Edge From="100" To="101" Label="Source2" />
                        <Edge From="101" To="102" Label="Source1" />
                        <Edge From="102" To="103" Label="Source1" />
                        <Edge From="104" To="108" Label="Source1" />
                        <Edge From="105" To="106" Label="Source1" />
                        <Edge From="106" To="107" Label="Source1" />
                        <Edge From="107" To="108" Label="Source2" />
                        <Edge From="108" To="109" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Unit" />
                  <Expression xsi:type="WorkflowOutput" />
                  <Expression xsi:type="rx:ReplaySubject">
                    <Name>Parameters</Name>
                    <rx:BufferSize xsi:nil="true" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>TrialParams</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="4" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Concat" />
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Count" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:RepeatCount">
                <rx:Count>20</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
            <Expression xsi:type="Disable">
              <Builder xsi:type="GroupWorkflow">
                <Name>S2dirRecordLeft</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="WorkflowInput">
                      <Name>Source1</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="p1:MotionCoherenceSpecification">
                        <p1:Trials>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>-32</p1:VelocityX1>
                            <p1:VelocityX2>-32</p1:VelocityX2>
                            <p1:VelocityY1>0</p1:VelocityY1>
                            <p1:VelocityY2>0</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>-22.6274</p1:VelocityX1>
                            <p1:VelocityX2>-22.6274</p1:VelocityX2>
                            <p1:VelocityY1>-22.6274</p1:VelocityY1>
                            <p1:VelocityY2>-22.6274</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>0</p1:VelocityX1>
                            <p1:VelocityX2>0</p1:VelocityX2>
                            <p1:VelocityY1>-32</p1:VelocityY1>
                            <p1:VelocityY2>-32</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>22.6274</p1:VelocityX1>
                            <p1:VelocityX2>22.6274</p1:VelocityX2>
                            <p1:VelocityY1>-22.6274</p1:VelocityY1>
                            <p1:VelocityY2>-22.6274</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>32</p1:VelocityX1>
                            <p1:VelocityX2>32</p1:VelocityX2>
                            <p1:VelocityY1>0</p1:VelocityY1>
                            <p1:VelocityY2>0</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>22.6274</p1:VelocityX1>
                            <p1:VelocityX2>22.6274</p1:VelocityX2>
                            <p1:VelocityY1>22.6274</p1:VelocityY1>
                            <p1:VelocityY2>22.6274</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>0</p1:VelocityX1>
                            <p1:VelocityX2>0</p1:VelocityX2>
                            <p1:VelocityY1>32</p1:VelocityY1>
                            <p1:VelocityY2>32</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>-22.6274</p1:VelocityX1>
                            <p1:VelocityX2>-22.6274</p1:VelocityX2>
                            <p1:VelocityY1>32</p1:VelocityY1>
                            <p1:VelocityY2>32</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                        </p1:Trials>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="GroupWorkflow">
                      <Name>EnsureMotionCoherenceParameters</Name>
                      <Workflow>
                        <Nodes>
                          <Expression xsi:type="WorkflowInput">
                            <Name>Source1</Name>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:ElementIndex" />
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Index</Selector>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Duration</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Duration" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Size</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="DotSize" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Colour1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Colour1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Colour2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Colour2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.numDots1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="numDots1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.numDots2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="numDots2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.dotLifeBool</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="dotLifeBool" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="IntProperty">
                              <Value>0</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.dotLifetime</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="dotLifetime" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="IntProperty">
                              <Value>0</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Contrast1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Contrast1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Contrast2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Contrast2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.VelocityX1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="VelocityX1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.VelocityX2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="VelocityX2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.VelocityY1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="VelocityY1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.VelocityY2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="VelocityY2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Coherence1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Coherence1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Coherence2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Coherence2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="scr:ExpressionTransform">
                            <scr:Expression>new(
Item1.Item1 as Id,
Item1.Item2 as Duration,
Item1.Item3 as Size,
Item1.Item4 as Colour1,
Item1.Item5 as Colour2,
Item1.Item6 as numDots1,
Item1.Item7 as numDots2,

Item2.Item1 as dotLifeBool,
Item2.Item2 as dotLifetime,
Item2.Item3 as Contrast1,
Item2.Item4 as Contrast2,

Item3.Item1 as VelX1,
Item3.Item2 as VelX2,
Item3.Item3 as VelY1,
Item3.Item4 as VelY2,
Item3.Item5 as Coherence1,
Item3.Item6 as Coherence2)</scr:Expression>
                          </Expression>
                          <Expression xsi:type="WorkflowOutput" />
                        </Nodes>
                        <Edges>
                          <Edge From="0" To="1" Label="Source1" />
                          <Edge From="1" To="2" Label="Source1" />
                          <Edge From="1" To="3" Label="Source1" />
                          <Edge From="1" To="6" Label="Source1" />
                          <Edge From="1" To="9" Label="Source1" />
                          <Edge From="1" To="12" Label="Source1" />
                          <Edge From="1" To="15" Label="Source1" />
                          <Edge From="1" To="18" Label="Source1" />
                          <Edge From="1" To="22" Label="Source1" />
                          <Edge From="1" To="25" Label="Source1" />
                          <Edge From="1" To="28" Label="Source1" />
                          <Edge From="1" To="31" Label="Source1" />
                          <Edge From="1" To="35" Label="Source1" />
                          <Edge From="1" To="38" Label="Source1" />
                          <Edge From="1" To="41" Label="Source1" />
                          <Edge From="1" To="44" Label="Source1" />
                          <Edge From="1" To="47" Label="Source1" />
                          <Edge From="1" To="50" Label="Source1" />
                          <Edge From="2" To="21" Label="Source1" />
                          <Edge From="3" To="5" Label="Source1" />
                          <Edge From="4" To="5" Label="Source2" />
                          <Edge From="5" To="21" Label="Source2" />
                          <Edge From="6" To="8" Label="Source1" />
                          <Edge From="7" To="8" Label="Source2" />
                          <Edge From="8" To="21" Label="Source3" />
                          <Edge From="9" To="11" Label="Source1" />
                          <Edge From="10" To="11" Label="Source2" />
                          <Edge From="11" To="21" Label="Source4" />
                          <Edge From="12" To="14" Label="Source1" />
                          <Edge From="13" To="14" Label="Source2" />
                          <Edge From="14" To="21" Label="Source5" />
                          <Edge From="15" To="17" Label="Source1" />
                          <Edge From="16" To="17" Label="Source2" />
                          <Edge From="17" To="21" Label="Source6" />
                          <Edge From="18" To="20" Label="Source1" />
                          <Edge From="19" To="20" Label="Source2" />
                          <Edge From="20" To="21" Label="Source7" />
                          <Edge From="21" To="54" Label="Source1" />
                          <Edge From="22" To="24" Label="Source1" />
                          <Edge From="23" To="24" Label="Source2" />
                          <Edge From="24" To="34" Label="Source1" />
                          <Edge From="25" To="27" Label="Source1" />
                          <Edge From="26" To="27" Label="Source2" />
                          <Edge From="27" To="34" Label="Source2" />
                          <Edge From="28" To="30" Label="Source1" />
                          <Edge From="29" To="30" Label="Source2" />
                          <Edge From="30" To="34" Label="Source3" />
                          <Edge From="31" To="33" Label="Source1" />
                          <Edge From="32" To="33" Label="Source2" />
                          <Edge From="33" To="34" Label="Source4" />
                          <Edge From="34" To="54" Label="Source2" />
                          <Edge From="35" To="37" Label="Source1" />
                          <Edge From="36" To="37" Label="Source2" />
                          <Edge From="37" To="53" Label="Source1" />
                          <Edge From="38" To="40" Label="Source1" />
                          <Edge From="39" To="40" Label="Source2" />
                          <Edge From="40" To="53" Label="Source2" />
                          <Edge From="41" To="43" Label="Source1" />
                          <Edge From="42" To="43" Label="Source2" />
                          <Edge From="43" To="53" Label="Source3" />
                          <Edge From="44" To="46" Label="Source1" />
                          <Edge From="45" To="46" Label="Source2" />
                          <Edge From="46" To="53" Label="Source4" />
                          <Edge From="47" To="49" Label="Source1" />
                          <Edge From="48" To="49" Label="Source2" />
                          <Edge From="49" To="53" Label="Source5" />
                          <Edge From="50" To="52" Label="Source1" />
                          <Edge From="51" To="52" Label="Source2" />
                          <Edge From="52" To="53" Label="Source6" />
                          <Edge From="53" To="54" Label="Source3" />
                          <Edge From="54" To="55" Label="Source1" />
                          <Edge From="55" To="56" Label="Source1" />
                        </Edges>
                      </Workflow>
                    </Expression>
                    <Expression xsi:type="WorkflowOutput" />
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="1" Label="Source1" />
                    <Edge From="1" To="2" Label="Source1" />
                    <Edge From="2" To="3" Label="Source1" />
                  </Edges>
                </Workflow>
              </Builder>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="GroupWorkflow">
                <Name>S2dir</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="WorkflowInput">
                      <Name>Source1</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="p1:MotionCoherenceSpecification">
                        <p1:Trials>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>-32</p1:VelocityX1>
                            <p1:VelocityX2>-32</p1:VelocityX2>
                            <p1:VelocityY1>0</p1:VelocityY1>
                            <p1:VelocityY2>0</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>-22.6274</p1:VelocityX1>
                            <p1:VelocityX2>-22.6274</p1:VelocityX2>
                            <p1:VelocityY1>-22.6274</p1:VelocityY1>
                            <p1:VelocityY2>-22.6274</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>0</p1:VelocityX1>
                            <p1:VelocityX2>0</p1:VelocityX2>
                            <p1:VelocityY1>-32</p1:VelocityY1>
                            <p1:VelocityY2>-32</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>22.6274</p1:VelocityX1>
                            <p1:VelocityX2>22.6274</p1:VelocityX2>
                            <p1:VelocityY1>-22.6274</p1:VelocityY1>
                            <p1:VelocityY2>-22.6274</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>32</p1:VelocityX1>
                            <p1:VelocityX2>32</p1:VelocityX2>
                            <p1:VelocityY1>0</p1:VelocityY1>
                            <p1:VelocityY2>0</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>22.6274</p1:VelocityX1>
                            <p1:VelocityX2>22.6274</p1:VelocityX2>
                            <p1:VelocityY1>22.6274</p1:VelocityY1>
                            <p1:VelocityY2>22.6274</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>0</p1:VelocityX1>
                            <p1:VelocityX2>0</p1:VelocityX2>
                            <p1:VelocityY1>32</p1:VelocityY1>
                            <p1:VelocityY2>32</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                          <p1:MotionCoherenceParams>
                            <p1:Duration>1</p1:Duration>
                            <p1:Size>2</p1:Size>
                            <p1:dotLifeBool>0</p1:dotLifeBool>
                            <p1:dotLifetime>1</p1:dotLifetime>
                            <p1:Colour1>0</p1:Colour1>
                            <p1:Colour2>1</p1:Colour2>
                            <p1:numDots1>573</p1:numDots1>
                            <p1:numDots2>573</p1:numDots2>
                            <p1:Contrast1>1</p1:Contrast1>
                            <p1:Contrast2>1</p1:Contrast2>
                            <p1:VelocityX1>-22.6274</p1:VelocityX1>
                            <p1:VelocityX2>-22.6274</p1:VelocityX2>
                            <p1:VelocityY1>32</p1:VelocityY1>
                            <p1:VelocityY2>32</p1:VelocityY2>
                            <p1:Coherence1>100</p1:Coherence1>
                            <p1:Coherence2>100</p1:Coherence2>
                          </p1:MotionCoherenceParams>
                        </p1:Trials>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="GroupWorkflow">
                      <Name>EnsureMotionCoherenceParameters</Name>
                      <Workflow>
                        <Nodes>
                          <Expression xsi:type="WorkflowInput">
                            <Name>Source1</Name>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:ElementIndex" />
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Index</Selector>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Duration</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Duration" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Size</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="DotSize" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Colour1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Colour1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Colour2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Colour2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.numDots1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="numDots1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.numDots2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="numDots2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.dotLifeBool</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="dotLifeBool" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="IntProperty">
                              <Value>0</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.dotLifetime</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="dotLifetime" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="IntProperty">
                              <Value>0</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Contrast1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Contrast1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Contrast2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Contrast2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.VelocityX1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="VelocityX1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.VelocityX2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="VelocityX2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.VelocityY1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="VelocityY1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.VelocityY2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="VelocityY2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Coherence1</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Coherence1" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Value.Coherence2</Selector>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Value" DisplayName="Coherence2" />
                          </Expression>
                          <Expression xsi:type="GetValueOrDefault">
                            <Operand xsi:type="FloatProperty">
                              <Value>1</Value>
                            </Operand>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="scr:ExpressionTransform">
                            <scr:Expression>new(
Item1.Item1 as Id,
Item1.Item2 as Duration,
Item1.Item3 as Size,
Item1.Item4 as Colour1,
Item1.Item5 as Colour2,
Item1.Item6 as numDots1,
Item1.Item7 as numDots2,

Item2.Item1 as dotLifeBool,
Item2.Item2 as dotLifetime,
Item2.Item3 as Contrast1,
Item2.Item4 as Contrast2,

Item3.Item1 as VelX1,
Item3.Item2 as VelX2,
Item3.Item3 as VelY1,
Item3.Item4 as VelY2,
Item3.Item5 as Coherence1,
Item3.Item6 as Coherence2)</scr:Expression>
                          </Expression>
                          <Expression xsi:type="WorkflowOutput" />
                        </Nodes>
                        <Edges>
                          <Edge From="0" To="1" Label="Source1" />
                          <Edge From="1" To="2" Label="Source1" />
                          <Edge From="1" To="3" Label="Source1" />
                          <Edge From="1" To="6" Label="Source1" />
                          <Edge From="1" To="9" Label="Source1" />
                          <Edge From="1" To="12" Label="Source1" />
                          <Edge From="1" To="15" Label="Source1" />
                          <Edge From="1" To="18" Label="Source1" />
                          <Edge From="1" To="22" Label="Source1" />
                          <Edge From="1" To="25" Label="Source1" />
                          <Edge From="1" To="28" Label="Source1" />
                          <Edge From="1" To="31" Label="Source1" />
                          <Edge From="1" To="35" Label="Source1" />
                          <Edge From="1" To="38" Label="Source1" />
                          <Edge From="1" To="41" Label="Source1" />
                          <Edge From="1" To="44" Label="Source1" />
                          <Edge From="1" To="47" Label="Source1" />
                          <Edge From="1" To="50" Label="Source1" />
                          <Edge From="2" To="21" Label="Source1" />
                          <Edge From="3" To="5" Label="Source1" />
                          <Edge From="4" To="5" Label="Source2" />
                          <Edge From="5" To="21" Label="Source2" />
                          <Edge From="6" To="8" Label="Source1" />
                          <Edge From="7" To="8" Label="Source2" />
                          <Edge From="8" To="21" Label="Source3" />
                          <Edge From="9" To="11" Label="Source1" />
                          <Edge From="10" To="11" Label="Source2" />
                          <Edge From="11" To="21" Label="Source4" />
                          <Edge From="12" To="14" Label="Source1" />
                          <Edge From="13" To="14" Label="Source2" />
                          <Edge From="14" To="21" Label="Source5" />
                          <Edge From="15" To="17" Label="Source1" />
                          <Edge From="16" To="17" Label="Source2" />
                          <Edge From="17" To="21" Label="Source6" />
                          <Edge From="18" To="20" Label="Source1" />
                          <Edge From="19" To="20" Label="Source2" />
                          <Edge From="20" To="21" Label="Source7" />
                          <Edge From="21" To="54" Label="Source1" />
                          <Edge From="22" To="24" Label="Source1" />
                          <Edge From="23" To="24" Label="Source2" />
                          <Edge From="24" To="34" Label="Source1" />
                          <Edge From="25" To="27" Label="Source1" />
                          <Edge From="26" To="27" Label="Source2" />
                          <Edge From="27" To="34" Label="Source2" />
                          <Edge From="28" To="30" Label="Source1" />
                          <Edge From="29" To="30" Label="Source2" />
                          <Edge From="30" To="34" Label="Source3" />
                          <Edge From="31" To="33" Label="Source1" />
                          <Edge From="32" To="33" Label="Source2" />
                          <Edge From="33" To="34" Label="Source4" />
                          <Edge From="34" To="54" Label="Source2" />
                          <Edge From="35" To="37" Label="Source1" />
                          <Edge From="36" To="37" Label="Source2" />
                          <Edge From="37" To="53" Label="Source1" />
                          <Edge From="38" To="40" Label="Source1" />
                          <Edge From="39" To="40" Label="Source2" />
                          <Edge From="40" To="53" Label="Source2" />
                          <Edge From="41" To="43" Label="Source1" />
                          <Edge From="42" To="43" Label="Source2" />
                          <Edge From="43" To="53" Label="Source3" />
                          <Edge From="44" To="46" Label="Source1" />
                          <Edge From="45" To="46" Label="Source2" />
                          <Edge From="46" To="53" Label="Source4" />
                          <Edge From="47" To="49" Label="Source1" />
                          <Edge From="48" To="49" Label="Source2" />
                          <Edge From="49" To="53" Label="Source5" />
                          <Edge From="50" To="52" Label="Source1" />
                          <Edge From="51" To="52" Label="Source2" />
                          <Edge From="52" To="53" Label="Source6" />
                          <Edge From="53" To="54" Label="Source3" />
                          <Edge From="54" To="55" Label="Source1" />
                          <Edge From="55" To="56" Label="Source1" />
                        </Edges>
                      </Workflow>
                    </Expression>
                    <Expression xsi:type="WorkflowOutput" />
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="1" Label="Source1" />
                    <Edge From="1" To="2" Label="Source1" />
                    <Edge From="2" To="3" Label="Source1" />
                  </Edges>
                </Workflow>
              </Builder>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="0" To="2" Label="Source1" />
            <Edge From="0" To="3" Label="Source1" />
            <Edge From="1" To="4" Label="Source1" />
            <Edge From="2" To="4" Label="Source2" />
            <Edge From="3" To="4" Label="Source3" />
            <Edge From="4" To="6" Label="Source1" />
            <Edge From="5" To="6" Label="Source2" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="8" To="10" Label="Source1" />
            <Edge From="9" To="10" Label="Source2" />
            <Edge From="10" To="11" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="wie:KeyDown">
          <wie:Filter>S</wie:Filter>
          <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
        </Combinator>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="rx:SubscribeWhen" />
      </Expression>
      <Expression xsi:type="ExternalizedMapping">
        <Property Name="Value" DisplayName="StimulusLocationX" />
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>VarInIt</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="num:CreateRandom">
                <num:Seed>42</num:Seed>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Random</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:PublishSubject">
              <Name>Sync</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>1</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrialProgress</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>SyncPulse</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>QuadState</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>EyeFrameCount</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="BooleanProperty">
                <Value>false</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TimerExpired</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>C:\Users\saleem_lab\Documents\VisualStimuli_Temp\</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Saving Dir</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>1</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RepCounter</Name>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" DisplayName="binFileName" Category="Filename" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>SparseNoise_Log_.bin</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Bin FileName</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>200</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>MousePos</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>VideoFrameCount</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>0.1</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>DurationSingleImage</Name>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>-120</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>StimulusXLoc</Name>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="14" To="15" Label="Source1" />
            <Edge From="16" To="17" Label="Source1" />
            <Edge From="18" To="19" Label="Source1" />
            <Edge From="19" To="20" Label="Source1" />
            <Edge From="21" To="22" Label="Source1" />
            <Edge From="23" To="24" Label="Source1" />
            <Edge From="25" To="26" Label="Source1" />
            <Edge From="27" To="28" Label="Source1" />
            <Edge From="28" To="29" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="SubscribeSubject">
        <Name>DrawStimuli</Name>
      </Expression>
      <Expression xsi:type="SubscribeSubject">
        <Name>QuadState</Name>
      </Expression>
      <Expression xsi:type="PropertyMapping">
        <PropertyMappings>
          <Property Name="ColorR" Selector="it" />
          <Property Name="ColorB" Selector="it" />
          <Property Name="ColorG" Selector="it" />
        </PropertyMappings>
      </Expression>
      <Expression xsi:type="IncludeWorkflow" Path="BonVision:Primitives.DrawQuad.bonsai">
        <ExtentX>12</ExtentX>
        <ExtentY>12</ExtentY>
        <LocationX>77</LocationX>
        <LocationY>-30</LocationY>
        <Layer>1</Layer>
        <Angle>0</Angle>
        <ColorR>0</ColorR>
        <ColorG>0</ColorG>
        <ColorB>0</ColorB>
        <ColorA>1</ColorA>
      </Expression>
      <Expression xsi:type="Disable">
        <Builder xsi:type="GroupWorkflow">
          <Name>Arduino_MatrixRig</Name>
          <Workflow>
            <Nodes>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="io:CreateSerialPort">
                  <io:Name>ArduinoSerial</io:Name>
                  <io:PortName>COM4</io:PortName>
                  <io:BaudRate>1000000</io:BaudRate>
                  <io:Encoding>us-ascii</io:Encoding>
                  <io:Parity>None</io:Parity>
                  <io:ParityReplace>63</io:ParityReplace>
                  <io:DataBits>8</io:DataBits>
                  <io:StopBits>One</io:StopBits>
                  <io:Handshake>None</io:Handshake>
                  <io:DiscardNull>false</io:DiscardNull>
                  <io:DtrEnable>true</io:DtrEnable>
                  <io:RtsEnable>false</io:RtsEnable>
                  <io:ReadBufferSize>4096</io:ReadBufferSize>
                  <io:WriteBufferSize>2048</io:WriteBufferSize>
                  <io:ReceivedBytesThreshold>1</io:ReceivedBytesThreshold>
                </Combinator>
              </Expression>
              <Expression xsi:type="ExternalizedMapping">
                <Property Name="PortName" />
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="io:SerialStringRead">
                  <io:PortName>ArduinoSerial</io:PortName>
                  <io:NewLine>\n</io:NewLine>
                </Combinator>
              </Expression>
              <Expression xsi:type="Parse">
                <Pattern>%i,%i,%i,%i,%i,%i</Pattern>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:Retry" />
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item1</Selector>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>WheelInput</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item2</Selector>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:DistinctUntilChanged" />
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>LeftLick</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item3</Selector>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:DistinctUntilChanged" />
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>RightLick</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item4</Selector>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>LastSyncPulseTime</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item5</Selector>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>Photodiode</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item6</Selector>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>ArduinoTime</Name>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="io:CreateSerialPort">
                  <io:Name>ArduinoPD</io:Name>
                  <io:PortName>COM5</io:PortName>
                  <io:BaudRate>250000</io:BaudRate>
                  <io:Encoding>us-ascii</io:Encoding>
                  <io:Parity>None</io:Parity>
                  <io:ParityReplace>63</io:ParityReplace>
                  <io:DataBits>8</io:DataBits>
                  <io:StopBits>One</io:StopBits>
                  <io:Handshake>None</io:Handshake>
                  <io:DiscardNull>false</io:DiscardNull>
                  <io:DtrEnable>true</io:DtrEnable>
                  <io:RtsEnable>false</io:RtsEnable>
                  <io:ReadBufferSize>4096</io:ReadBufferSize>
                  <io:WriteBufferSize>2048</io:WriteBufferSize>
                  <io:ReceivedBytesThreshold>1</io:ReceivedBytesThreshold>
                </Combinator>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="io:SerialStringRead">
                  <io:PortName>ArduinoPD</io:PortName>
                  <io:NewLine>\n</io:NewLine>
                </Combinator>
              </Expression>
              <Expression xsi:type="Parse">
                <Pattern>%i,%i</Pattern>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:Retry" />
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>PDandAsync</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item1</Selector>
              </Expression>
            </Nodes>
            <Edges>
              <Edge From="1" To="2" Label="Source1" />
              <Edge From="2" To="3" Label="Source1" />
              <Edge From="3" To="4" Label="Source1" />
              <Edge From="4" To="5" Label="Source1" />
              <Edge From="4" To="7" Label="Source1" />
              <Edge From="4" To="10" Label="Source1" />
              <Edge From="4" To="13" Label="Source1" />
              <Edge From="4" To="15" Label="Source1" />
              <Edge From="4" To="17" Label="Source1" />
              <Edge From="5" To="6" Label="Source1" />
              <Edge From="7" To="8" Label="Source1" />
              <Edge From="8" To="9" Label="Source1" />
              <Edge From="10" To="11" Label="Source1" />
              <Edge From="11" To="12" Label="Source1" />
              <Edge From="13" To="14" Label="Source1" />
              <Edge From="15" To="16" Label="Source1" />
              <Edge From="17" To="18" Label="Source1" />
              <Edge From="20" To="21" Label="Source1" />
              <Edge From="21" To="22" Label="Source1" />
              <Edge From="22" To="23" Label="Source1" />
              <Edge From="23" To="24" Label="Source1" />
            </Edges>
          </Workflow>
        </Builder>
      </Expression>
      <Expression xsi:type="Disable">
        <Builder xsi:type="GroupWorkflow">
          <Name>Logging_MatrixRig</Name>
          <Workflow>
            <Nodes>
              <Expression xsi:type="GroupWorkflow">
                <Name>WheelLogger</Name>
                <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>FilenamePrefix</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="StringProperty">
                        <Value>_Wheel</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>it.Item1+it.Item2</scr:Expression>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Take">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Format">
                      <Format>{0}.csv</Format>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Overwrite" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Suffix" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Name" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>WheelLog</Name>
                    </Expression>
                    <Expression xsi:type="io:CsvWriter">
                      <io:FileName>M24019_DotMotion_SpeedTuning_Wheel.csv</io:FileName>
                      <io:Delimiter>,</io:Delimiter>
                      <io:Append>false</io:Append>
                      <io:Overwrite>false</io:Overwrite>
                      <io:Suffix>Timestamp</io:Suffix>
                      <io:IncludeHeader>true</io:IncludeHeader>
                      <io:Selector />
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="2" Label="Source1" />
                    <Edge From="1" To="2" Label="Source2" />
                    <Edge From="2" To="3" Label="Source1" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source1" />
                    <Edge From="6" To="11" Label="Source1" />
                    <Edge From="7" To="11" Label="Source2" />
                    <Edge From="8" To="11" Label="Source3" />
                    <Edge From="9" To="10" Label="Source1" />
                    <Edge From="10" To="11" Label="Source4" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="wie:KeyDown">
                  <wie:Filter>MButton Back Clear D H L Shift</wie:Filter>
                  <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
                </Combinator>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:SubscribeWhen" />
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>VideoLogger</Name>
                <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>FilenamePrefix</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="StringProperty">
                        <Value>_Video</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>it.Item1+it.Item2</scr:Expression>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Take">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Format">
                      <Format>{0}.csv</Format>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Overwrite" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Suffix" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>VideoLog</Name>
                    </Expression>
                    <Expression xsi:type="io:CsvWriter">
                      <io:FileName>M24019_DotMotion_SpeedTuning_Video.csv</io:FileName>
                      <io:Delimiter>,</io:Delimiter>
                      <io:Append>false</io:Append>
                      <io:Overwrite>false</io:Overwrite>
                      <io:Suffix>Timestamp</io:Suffix>
                      <io:IncludeHeader>true</io:IncludeHeader>
                      <io:Selector />
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="2" Label="Source1" />
                    <Edge From="1" To="2" Label="Source2" />
                    <Edge From="2" To="3" Label="Source1" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source1" />
                    <Edge From="6" To="10" Label="Source1" />
                    <Edge From="7" To="10" Label="Source2" />
                    <Edge From="8" To="10" Label="Source3" />
                    <Edge From="9" To="10" Label="Source4" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:SubscribeWhen" />
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>PhotodiodeLogger</Name>
                <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>FilenamePrefix</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="StringProperty">
                        <Value>_Photodiode</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>it.Item1+it.Item2</scr:Expression>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Take">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Format">
                      <Format>{0}.csv</Format>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Overwrite" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Suffix" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Name" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>PDLog</Name>
                    </Expression>
                    <Expression xsi:type="io:CsvWriter">
                      <io:FileName>M24019_DotMotion_SpeedTuning_Photodiode.csv</io:FileName>
                      <io:Delimiter>,</io:Delimiter>
                      <io:Append>false</io:Append>
                      <io:Overwrite>false</io:Overwrite>
                      <io:Suffix>Timestamp</io:Suffix>
                      <io:IncludeHeader>true</io:IncludeHeader>
                      <io:Selector />
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="2" Label="Source1" />
                    <Edge From="1" To="2" Label="Source2" />
                    <Edge From="2" To="3" Label="Source1" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source1" />
                    <Edge From="6" To="11" Label="Source1" />
                    <Edge From="7" To="11" Label="Source2" />
                    <Edge From="8" To="11" Label="Source3" />
                    <Edge From="9" To="10" Label="Source1" />
                    <Edge From="10" To="11" Label="Source4" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:SubscribeWhen" />
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>TrialLogger</Name>
                <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>FilenamePrefix</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="StringProperty">
                        <Value>_TrialParams</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>it.Item1+it.Item2</scr:Expression>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Take">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Format">
                      <Format>{0}.csv</Format>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Overwrite" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Suffix" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>TrialParams</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Timestamp" />
                    </Expression>
                    <Expression xsi:type="MemberSelector">
                      <Selector>Timestamp.DateTime.TimeOfDay</Selector>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>ArduinoTime</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:WithLatestFrom" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(Item1.Item1.Id as Id,
Item1.Item1.Duration as Duration,
Item1.Item1.Size as Size,
Item1.Item1.Colour1 as Colour1,
Item1.Item1.Colour2 as Colour2,
Item1.Item1.numDots1 as numDots1,
Item1.Item1.numDots2 as numDots2,
Item1.Item1.dotLifeBool as dotLifeBool,
Item1.Item1.dotLifetime as dotLifetime,
Item1.Item1.Contrast1 as Contrast1,
Item1.Item1.Contrast2 as Contrast2,
Item1.Item1.VelX1 as VelX1,
Item1.Item1.VelX2 as VelX2,
Item1.Item1.Coherence1 as Coherence1,
Item1.Item1.Coherence1 as Coherence1,
Item1.Item2 as BonsaiTime,
Item2 as ArduinoTime)</scr:Expression>
                    </Expression>
                    <Expression xsi:type="io:CsvWriter">
                      <io:FileName>M24019_DotMotion_SpeedTuning_TrialParams.csv</io:FileName>
                      <io:Delimiter>,</io:Delimiter>
                      <io:Append>false</io:Append>
                      <io:Overwrite>false</io:Overwrite>
                      <io:Suffix>Timestamp</io:Suffix>
                      <io:IncludeHeader>true</io:IncludeHeader>
                      <io:Selector>Id,Duration,Size,Colour1,Colour2,numDots1,numDots2,dotLifeBool,dotLifetime,Contrast1,Contrast2,VelX1,VelX2,Coherence1,BonsaiTime,ArduinoTime</io:Selector>
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="2" Label="Source1" />
                    <Edge From="1" To="2" Label="Source2" />
                    <Edge From="2" To="3" Label="Source1" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source1" />
                    <Edge From="6" To="16" Label="Source1" />
                    <Edge From="7" To="16" Label="Source2" />
                    <Edge From="8" To="16" Label="Source3" />
                    <Edge From="9" To="10" Label="Source1" />
                    <Edge From="9" To="12" Label="Source1" />
                    <Edge From="10" To="11" Label="Source1" />
                    <Edge From="11" To="12" Label="Source2" />
                    <Edge From="12" To="14" Label="Source1" />
                    <Edge From="13" To="14" Label="Source2" />
                    <Edge From="14" To="15" Label="Source1" />
                    <Edge From="15" To="16" Label="Source4" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:SubscribeWhen" />
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>WheelLogging</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>WheelInput</Name>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>LastSyncPulseTime</Name>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>ArduinoTime</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Timestamp" />
                    </Expression>
                    <Expression xsi:type="MemberSelector">
                      <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>RenderFrameCount</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:WithLatestFrom" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(Item1.Item1 as Wheel, Item1.Item2 as LastSyncPulseTime, Item1.Item3 as ArduinoTime, Item1.Item4 as BonsaiTime, Item2 as RenderFrameCount)</scr:Expression>
                    </Expression>
                    <Expression xsi:type="rx:BehaviorSubject">
                      <Name>WheelLog</Name>
                    </Expression>
                    <Expression xsi:type="WorkflowOutput" />
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="3" Label="Source1" />
                    <Edge From="0" To="5" Label="Source1" />
                    <Edge From="1" To="5" Label="Source2" />
                    <Edge From="2" To="5" Label="Source3" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source4" />
                    <Edge From="5" To="7" Label="Source1" />
                    <Edge From="6" To="7" Label="Source2" />
                    <Edge From="7" To="8" Label="Source1" />
                    <Edge From="8" To="9" Label="Source1" />
                    <Edge From="9" To="10" Label="Source1" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>VideoLogging</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>VideoFrameCount</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Timestamp" />
                    </Expression>
                    <Expression xsi:type="MemberSelector">
                      <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>VideoLEDAsync</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>ArduinoTime</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:WithLatestFrom" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(Item1.Item1 as VideoFrameCount, Item1.Item3 as LEDAsync, Item2 as ArduinoTime, Item1.Item2 as BonsaiTime)</scr:Expression>
                    </Expression>
                    <Expression xsi:type="rx:BehaviorSubject">
                      <Name>VideoLog</Name>
                    </Expression>
                    <Expression xsi:type="WorkflowOutput" />
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="1" Label="Source1" />
                    <Edge From="0" To="4" Label="Source1" />
                    <Edge From="1" To="2" Label="Source1" />
                    <Edge From="2" To="4" Label="Source2" />
                    <Edge From="3" To="4" Label="Source3" />
                    <Edge From="4" To="6" Label="Source1" />
                    <Edge From="5" To="6" Label="Source2" />
                    <Edge From="6" To="7" Label="Source1" />
                    <Edge From="7" To="8" Label="Source1" />
                    <Edge From="8" To="9" Label="Source1" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>PhotodiodeLogging</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>PDandAsync</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Timestamp" />
                    </Expression>
                    <Expression xsi:type="MemberSelector">
                      <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>ArduinoTime</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:WithLatestFrom" />
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="scr:ExpressionTransform">
                        <scr:Expression>new(Item1.Item1 as Photodiode, Item1.Item2 as AsyncPulse, Item2 as BonsaiTime, Item3 as ArduinoTime)</scr:Expression>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(Item1.Item1.Item1 as Photodiode, Item1.Item1.Item2 as AsyncPulse, Item1.Item2 as BonsaiTime, Item2 as ArduinoTime)</scr:Expression>
                    </Expression>
                    <Expression xsi:type="rx:BehaviorSubject">
                      <Name>PDLog</Name>
                    </Expression>
                    <Expression xsi:type="WorkflowOutput" />
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="1" Label="Source1" />
                    <Edge From="0" To="3" Label="Source1" />
                    <Edge From="1" To="2" Label="Source1" />
                    <Edge From="2" To="3" Label="Source2" />
                    <Edge From="3" To="5" Label="Source1" />
                    <Edge From="4" To="5" Label="Source2" />
                    <Edge From="5" To="6" Label="Source1" />
                    <Edge From="6" To="7" Label="Source1" />
                    <Edge From="7" To="8" Label="Source1" />
                    <Edge From="8" To="9" Label="Source1" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>IntialiseTrialParams</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="IntProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="IntProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="IntProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(
Item1.Item1 as Id,
Item1.Item2 as Duration,
Item1.Item3 as Size,
Item1.Item4 as Colour1,
Item1.Item5 as Colour2,
Item1.Item6 as numDots1,
Item1.Item7 as numDots2,

Item2.Item1 as dotLifeBool,
Item2.Item2 as dotLifetime,
Item2.Item3 as Contrast1,
Item2.Item4 as Contrast2,
Item2.Item5 as VelX1,
Item2.Item6 as VelX2,
Item2.Item7 as VelY1,

Item3.Item1 as VelY2,
Item3.Item2 as Coherence1,
Item3.Item3 as Coherence2)</scr:Expression>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Skip">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="rx:BehaviorSubject">
                      <Name>TrialParams</Name>
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="7" Label="Source1" />
                    <Edge From="1" To="7" Label="Source2" />
                    <Edge From="2" To="7" Label="Source3" />
                    <Edge From="3" To="7" Label="Source4" />
                    <Edge From="4" To="7" Label="Source5" />
                    <Edge From="5" To="7" Label="Source6" />
                    <Edge From="6" To="7" Label="Source7" />
                    <Edge From="7" To="20" Label="Source1" />
                    <Edge From="8" To="15" Label="Source1" />
                    <Edge From="9" To="15" Label="Source2" />
                    <Edge From="10" To="15" Label="Source3" />
                    <Edge From="11" To="15" Label="Source4" />
                    <Edge From="12" To="15" Label="Source5" />
                    <Edge From="13" To="15" Label="Source6" />
                    <Edge From="14" To="15" Label="Source7" />
                    <Edge From="15" To="20" Label="Source2" />
                    <Edge From="16" To="19" Label="Source1" />
                    <Edge From="17" To="19" Label="Source2" />
                    <Edge From="18" To="19" Label="Source3" />
                    <Edge From="19" To="20" Label="Source3" />
                    <Edge From="20" To="21" Label="Source1" />
                    <Edge From="21" To="22" Label="Source1" />
                    <Edge From="22" To="23" Label="Source1" />
                  </Edges>
                </Workflow>
              </Expression>
            </Nodes>
            <Edges>
              <Edge From="0" To="2" Label="Source1" />
              <Edge From="1" To="2" Label="Source2" />
              <Edge From="1" To="4" Label="Source2" />
              <Edge From="1" To="6" Label="Source2" />
              <Edge From="1" To="8" Label="Source2" />
              <Edge From="3" To="4" Label="Source1" />
              <Edge From="5" To="6" Label="Source1" />
              <Edge From="7" To="8" Label="Source1" />
            </Edges>
          </Workflow>
        </Builder>
      </Expression>
      <Expression xsi:type="Disable">
        <Builder xsi:type="GroupWorkflow">
          <Name>Arduino</Name>
          <Workflow>
            <Nodes>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="io:CreateSerialPort">
                  <io:Name>Ardu</io:Name>
                  <io:PortName>COM7</io:PortName>
                  <io:BaudRate>9600</io:BaudRate>
                  <io:Parity>None</io:Parity>
                  <io:ParityReplace>63</io:ParityReplace>
                  <io:DataBits>8</io:DataBits>
                  <io:StopBits>One</io:StopBits>
                  <io:Handshake>None</io:Handshake>
                  <io:DiscardNull>false</io:DiscardNull>
                  <io:DtrEnable>true</io:DtrEnable>
                  <io:RtsEnable>false</io:RtsEnable>
                  <io:ReadBufferSize>4096</io:ReadBufferSize>
                  <io:WriteBufferSize>2048</io:WriteBufferSize>
                  <io:ReceivedBytesThreshold>1</io:ReceivedBytesThreshold>
                </Combinator>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="io:SerialStringRead">
                  <io:PortName>Ardu</io:PortName>
                  <io:NewLine>\r\n</io:NewLine>
                </Combinator>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="Combinator">
                  <Combinator xsi:type="rx:SampleInterval">
                    <rx:Interval>PT0.001S</rx:Interval>
                  </Combinator>
                </Builder>
              </Expression>
              <Expression xsi:type="Parse">
                <Pattern>%i\t%i\t%i\t%i\t%f\t%i\t%i\t%i</Pattern>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:Retry" />
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item1</Selector>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="MulticastSubject">
                  <Name>WheelInput</Name>
                </Builder>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>WheelInput</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item2</Selector>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:DistinctUntilChanged" />
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="MulticastSubject">
                  <Name>LeftLick</Name>
                </Builder>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>LeftLick</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item3</Selector>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:DistinctUntilChanged" />
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="MulticastSubject">
                  <Name>RightLick</Name>
                </Builder>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>RightLick</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item4</Selector>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="MulticastSubject">
                  <Name>LastSyncPulseTime</Name>
                </Builder>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>LastSyncPulseTime</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item5</Selector>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="MulticastSubject">
                  <Name>Photodiode</Name>
                </Builder>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>Photodiode</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item6</Selector>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:DistinctUntilChanged" />
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="MulticastSubject">
                  <Name>TwoPFrameTime</Name>
                </Builder>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>TwoPFrameTime</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Item7</Selector>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:DistinctUntilChanged" />
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="MulticastSubject">
                  <Name>WideFieldFrameTime</Name>
                </Builder>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>WideFieldFrameTime</Name>
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Rest.Item1</Selector>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="MulticastSubject">
                  <Name>ArduinoTime</Name>
                </Builder>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>ArduinoTime</Name>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="Combinator">
                  <Combinator xsi:type="io:CreateSerialPort">
                    <io:Name>ArduinoPD</io:Name>
                    <io:PortName>COM5</io:PortName>
                    <io:BaudRate>250000</io:BaudRate>
                    <io:Encoding>us-ascii</io:Encoding>
                    <io:Parity>None</io:Parity>
                    <io:ParityReplace>63</io:ParityReplace>
                    <io:DataBits>8</io:DataBits>
                    <io:StopBits>One</io:StopBits>
                    <io:Handshake>None</io:Handshake>
                    <io:DiscardNull>false</io:DiscardNull>
                    <io:DtrEnable>true</io:DtrEnable>
                    <io:RtsEnable>false</io:RtsEnable>
                    <io:ReadBufferSize>4096</io:ReadBufferSize>
                    <io:WriteBufferSize>2048</io:WriteBufferSize>
                    <io:ReceivedBytesThreshold>1</io:ReceivedBytesThreshold>
                  </Combinator>
                </Builder>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="Combinator">
                  <Combinator xsi:type="port:CreateSerialPort">
                    <port:Name>ArduinoPD</port:Name>
                    <port:PortName>COM7</port:PortName>
                    <port:BaudRate>250000</port:BaudRate>
                    <port:Encoding>us-ascii</port:Encoding>
                    <port:NewLine>\r\n</port:NewLine>
                    <port:Parity>None</port:Parity>
                    <port:ParityReplace>63</port:ParityReplace>
                    <port:DataBits>8</port:DataBits>
                    <port:StopBits>One</port:StopBits>
                    <port:Handshake>None</port:Handshake>
                    <port:DiscardNull>false</port:DiscardNull>
                    <port:DtrEnable>true</port:DtrEnable>
                    <port:RtsEnable>false</port:RtsEnable>
                    <port:ReadBufferSize>4096</port:ReadBufferSize>
                    <port:WriteBufferSize>2048</port:WriteBufferSize>
                    <port:ReceivedBytesThreshold>1</port:ReceivedBytesThreshold>
                  </Combinator>
                </Builder>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="Combinator">
                  <Combinator xsi:type="port:SerialReadLine">
                    <port:PortName>ArduinoPD</port:PortName>
                    <port:NewLine>\n</port:NewLine>
                  </Combinator>
                </Builder>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="Parse">
                  <Pattern>%i,%i</Pattern>
                </Builder>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="Combinator">
                  <Combinator xsi:type="rx:Retry" />
                </Builder>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="rx:BehaviorSubject">
                  <Name>PDandAsync</Name>
                </Builder>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="MemberSelector">
                  <Selector>Item1</Selector>
                </Builder>
              </Expression>
            </Nodes>
            <Edges>
              <Edge From="1" To="2" Label="Source1" />
              <Edge From="2" To="3" Label="Source1" />
              <Edge From="3" To="4" Label="Source1" />
              <Edge From="4" To="5" Label="Source1" />
              <Edge From="4" To="8" Label="Source1" />
              <Edge From="4" To="12" Label="Source1" />
              <Edge From="4" To="16" Label="Source1" />
              <Edge From="4" To="19" Label="Source1" />
              <Edge From="4" To="22" Label="Source1" />
              <Edge From="4" To="26" Label="Source1" />
              <Edge From="4" To="30" Label="Source1" />
              <Edge From="5" To="6" Label="Source1" />
              <Edge From="6" To="7" Label="Source1" />
              <Edge From="8" To="9" Label="Source1" />
              <Edge From="9" To="10" Label="Source1" />
              <Edge From="10" To="11" Label="Source1" />
              <Edge From="12" To="13" Label="Source1" />
              <Edge From="13" To="14" Label="Source1" />
              <Edge From="14" To="15" Label="Source1" />
              <Edge From="16" To="17" Label="Source1" />
              <Edge From="17" To="18" Label="Source1" />
              <Edge From="19" To="20" Label="Source1" />
              <Edge From="20" To="21" Label="Source1" />
              <Edge From="22" To="23" Label="Source1" />
              <Edge From="23" To="24" Label="Source1" />
              <Edge From="24" To="25" Label="Source1" />
              <Edge From="26" To="27" Label="Source1" />
              <Edge From="27" To="28" Label="Source1" />
              <Edge From="28" To="29" Label="Source1" />
              <Edge From="30" To="31" Label="Source1" />
              <Edge From="31" To="32" Label="Source1" />
              <Edge From="35" To="36" Label="Source1" />
              <Edge From="36" To="37" Label="Source1" />
              <Edge From="37" To="38" Label="Source1" />
              <Edge From="38" To="39" Label="Source1" />
            </Edges>
          </Workflow>
        </Builder>
      </Expression>
      <Expression xsi:type="Disable">
        <Builder xsi:type="GroupWorkflow">
          <Name>Logging</Name>
          <Workflow>
            <Nodes>
              <Expression xsi:type="GroupWorkflow">
                <Name>WheelLogger</Name>
                <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>FilenamePrefix</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="StringProperty">
                        <Value>_Wheel</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>it.Item1+it.Item2</scr:Expression>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Take">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Format">
                      <Format>{0}.csv</Format>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Overwrite" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Suffix" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Name" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>WheelLog</Name>
                    </Expression>
                    <Expression xsi:type="io:CsvWriter">
                      <io:FileName>C:\DATA\Subjects\M25010\Bonsai\20250210\M25010_DotMotion_SpeedTuning_ExpressionTest_fov2_Wheel.csv</io:FileName>
                      <io:Delimiter>,</io:Delimiter>
                      <io:Append>false</io:Append>
                      <io:Overwrite>false</io:Overwrite>
                      <io:Suffix>Timestamp</io:Suffix>
                      <io:IncludeHeader>true</io:IncludeHeader>
                      <io:Selector />
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="2" Label="Source1" />
                    <Edge From="1" To="2" Label="Source2" />
                    <Edge From="2" To="3" Label="Source1" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source1" />
                    <Edge From="6" To="11" Label="Source1" />
                    <Edge From="7" To="11" Label="Source2" />
                    <Edge From="8" To="11" Label="Source3" />
                    <Edge From="9" To="10" Label="Source1" />
                    <Edge From="10" To="11" Label="Source4" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="wie:KeyDown">
                  <wie:Filter>MButton Back Clear D H L Shift</wie:Filter>
                  <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
                </Combinator>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:SubscribeWhen" />
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>TwoPLogger</Name>
                <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>FilenamePrefix</Name>
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Value" DisplayName="FileEnding" />
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="StringProperty">
                        <Value>_2P</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>it.Item1+it.Item2</scr:Expression>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Take">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Format">
                      <Format>{0}.csv</Format>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Overwrite" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Suffix" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Name" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>TwoPLog</Name>
                    </Expression>
                    <Expression xsi:type="io:CsvWriter">
                      <io:FileName>C:\DATA\Subjects\M25010\Bonsai\20250210\M25010_DotMotion_SpeedTuning_ExpressionTest_fov2_2P.csv</io:FileName>
                      <io:Delimiter>,</io:Delimiter>
                      <io:Append>false</io:Append>
                      <io:Overwrite>false</io:Overwrite>
                      <io:Suffix>Timestamp</io:Suffix>
                      <io:IncludeHeader>true</io:IncludeHeader>
                      <io:Selector />
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="3" Label="Source1" />
                    <Edge From="1" To="2" Label="Source1" />
                    <Edge From="2" To="3" Label="Source2" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source1" />
                    <Edge From="6" To="7" Label="Source1" />
                    <Edge From="7" To="12" Label="Source1" />
                    <Edge From="8" To="12" Label="Source2" />
                    <Edge From="9" To="12" Label="Source3" />
                    <Edge From="10" To="11" Label="Source1" />
                    <Edge From="11" To="12" Label="Source4" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:SubscribeWhen" />
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>PhotodiodeLogger</Name>
                <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>FilenamePrefix</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="StringProperty">
                        <Value>_Photodiode</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>it.Item1+it.Item2</scr:Expression>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Take">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Format">
                      <Format>{0}.csv</Format>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Overwrite" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Suffix" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Name" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>PDLog</Name>
                    </Expression>
                    <Expression xsi:type="io:CsvWriter">
                      <io:FileName>C:\DATA\Subjects\M25010\Bonsai\20250210\M25010_DotMotion_SpeedTuning_ExpressionTest_fov2_Photodiode.csv</io:FileName>
                      <io:Delimiter>,</io:Delimiter>
                      <io:Append>false</io:Append>
                      <io:Overwrite>false</io:Overwrite>
                      <io:Suffix>Timestamp</io:Suffix>
                      <io:IncludeHeader>true</io:IncludeHeader>
                      <io:Selector />
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>FilenamePrefix</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="StringProperty">
                          <Value>_Photodiode</Value>
                        </Combinator>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:Zip" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="scr:ExpressionTransform">
                        <scr:Expression>it.Item1+it.Item2</scr:Expression>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:Take">
                          <rx:Count>1</rx:Count>
                        </Combinator>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Format">
                        <Format>{0}.csv</Format>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="PropertyMapping">
                        <PropertyMappings>
                          <Property Name="FileName" />
                        </PropertyMappings>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="ExternalizedMapping">
                        <Property Name="Overwrite" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="ExternalizedMapping">
                        <Property Name="Suffix" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="ExternalizedMapping">
                        <Property Name="Name" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>PDLog</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="io:CsvWriter">
                        <io:FileName>M24019_DotMotion_SpeedTuning_Photodiode.csv</io:FileName>
                        <io:Delimiter>,</io:Delimiter>
                        <io:Append>false</io:Append>
                        <io:Overwrite>false</io:Overwrite>
                        <io:Suffix>Timestamp</io:Suffix>
                        <io:IncludeHeader>true</io:IncludeHeader>
                        <io:Selector />
                      </Builder>
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="2" Label="Source1" />
                    <Edge From="1" To="2" Label="Source2" />
                    <Edge From="2" To="3" Label="Source1" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source1" />
                    <Edge From="6" To="11" Label="Source1" />
                    <Edge From="7" To="11" Label="Source2" />
                    <Edge From="8" To="11" Label="Source3" />
                    <Edge From="9" To="10" Label="Source1" />
                    <Edge From="10" To="11" Label="Source4" />
                    <Edge From="12" To="14" Label="Source1" />
                    <Edge From="13" To="14" Label="Source2" />
                    <Edge From="14" To="15" Label="Source1" />
                    <Edge From="15" To="16" Label="Source1" />
                    <Edge From="16" To="17" Label="Source1" />
                    <Edge From="17" To="18" Label="Source1" />
                    <Edge From="18" To="23" Label="Source1" />
                    <Edge From="19" To="23" Label="Source2" />
                    <Edge From="20" To="23" Label="Source3" />
                    <Edge From="21" To="22" Label="Source1" />
                    <Edge From="22" To="23" Label="Source4" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:SubscribeWhen" />
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>TrialLogger</Name>
                <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>FilenamePrefix</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="StringProperty">
                        <Value>_TrialParams</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>it.Item1+it.Item2</scr:Expression>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Take">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Format">
                      <Format>{0}.csv</Format>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Overwrite" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Suffix" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>TrialParams</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Timestamp" />
                    </Expression>
                    <Expression xsi:type="MemberSelector">
                      <Selector>Timestamp.DateTime.TimeOfDay</Selector>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>ArduinoTime</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:WithLatestFrom" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(Item1.Item1.Id as Id,
Item1.Item1.Duration as Duration,
Item1.Item1.Size as Size,
Item1.Item1.Colour1 as Colour1,
Item1.Item1.Colour2 as Colour2,
Item1.Item1.numDots1 as numDots1,
Item1.Item1.numDots2 as numDots2,
Item1.Item1.dotLifeBool as dotLifeBool,
Item1.Item1.dotLifetime as dotLifetime,
Item1.Item1.Contrast1 as Contrast1,
Item1.Item1.Contrast2 as Contrast2,
Item1.Item1.VelX1 as VelX1,
Item1.Item1.VelX2 as VelX2,
Item1.Item1.Coherence1 as Coherence1,
Item1.Item1.Coherence1 as Coherence1,
Item1.Item2 as BonsaiTime,
Item2 as ArduinoTime)</scr:Expression>
                    </Expression>
                    <Expression xsi:type="io:CsvWriter">
                      <io:FileName>C:\DATA\Subjects\M25010\Bonsai\20250210\M25010_DotMotion_SpeedTuning_ExpressionTest_fov2_TrialParams.csv</io:FileName>
                      <io:Delimiter>,</io:Delimiter>
                      <io:Append>false</io:Append>
                      <io:Overwrite>false</io:Overwrite>
                      <io:Suffix>Timestamp</io:Suffix>
                      <io:IncludeHeader>true</io:IncludeHeader>
                      <io:Selector />
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="2" Label="Source1" />
                    <Edge From="1" To="2" Label="Source2" />
                    <Edge From="2" To="3" Label="Source1" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source1" />
                    <Edge From="6" To="16" Label="Source1" />
                    <Edge From="7" To="16" Label="Source2" />
                    <Edge From="8" To="16" Label="Source3" />
                    <Edge From="9" To="10" Label="Source1" />
                    <Edge From="9" To="12" Label="Source1" />
                    <Edge From="10" To="11" Label="Source1" />
                    <Edge From="11" To="12" Label="Source2" />
                    <Edge From="12" To="14" Label="Source1" />
                    <Edge From="13" To="14" Label="Source2" />
                    <Edge From="14" To="15" Label="Source1" />
                    <Edge From="15" To="16" Label="Source4" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:SubscribeWhen" />
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>QuadLogger</Name>
                <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>FilenamePrefix</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="StringProperty">
                        <Value>_Quad</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>it.Item1+it.Item2</scr:Expression>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Take">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Format">
                      <Format>{0}.csv</Format>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Overwrite" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Suffix" />
                    </Expression>
                    <Expression xsi:type="ExternalizedMapping">
                      <Property Name="Name" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>QuadLog</Name>
                    </Expression>
                    <Expression xsi:type="io:CsvWriter">
                      <io:FileName>C:\DATA\Subjects\M25010\Bonsai\20250210\M25010_DotMotion_SpeedTuning_ExpressionTest_fov2_Quad.csv</io:FileName>
                      <io:Delimiter>,</io:Delimiter>
                      <io:Append>false</io:Append>
                      <io:Overwrite>false</io:Overwrite>
                      <io:Suffix>Timestamp</io:Suffix>
                      <io:IncludeHeader>true</io:IncludeHeader>
                      <io:Selector />
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>FilenamePrefix</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="StringProperty">
                          <Value>_Photodiode</Value>
                        </Combinator>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:Zip" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="scr:ExpressionTransform">
                        <scr:Expression>it.Item1+it.Item2</scr:Expression>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:Take">
                          <rx:Count>1</rx:Count>
                        </Combinator>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Format">
                        <Format>{0}.csv</Format>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="PropertyMapping">
                        <PropertyMappings>
                          <Property Name="FileName" />
                        </PropertyMappings>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="ExternalizedMapping">
                        <Property Name="Overwrite" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="ExternalizedMapping">
                        <Property Name="Suffix" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="ExternalizedMapping">
                        <Property Name="Name" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>PDLog</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="io:CsvWriter">
                        <io:FileName>M24019_DotMotion_SpeedTuning_Photodiode.csv</io:FileName>
                        <io:Delimiter>,</io:Delimiter>
                        <io:Append>false</io:Append>
                        <io:Overwrite>false</io:Overwrite>
                        <io:Suffix>Timestamp</io:Suffix>
                        <io:IncludeHeader>true</io:IncludeHeader>
                        <io:Selector />
                      </Builder>
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="2" Label="Source1" />
                    <Edge From="1" To="2" Label="Source2" />
                    <Edge From="2" To="3" Label="Source1" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source1" />
                    <Edge From="6" To="11" Label="Source1" />
                    <Edge From="7" To="11" Label="Source2" />
                    <Edge From="8" To="11" Label="Source3" />
                    <Edge From="9" To="10" Label="Source1" />
                    <Edge From="10" To="11" Label="Source4" />
                    <Edge From="12" To="14" Label="Source1" />
                    <Edge From="13" To="14" Label="Source2" />
                    <Edge From="14" To="15" Label="Source1" />
                    <Edge From="15" To="16" Label="Source1" />
                    <Edge From="16" To="17" Label="Source1" />
                    <Edge From="17" To="18" Label="Source1" />
                    <Edge From="18" To="23" Label="Source1" />
                    <Edge From="19" To="23" Label="Source2" />
                    <Edge From="20" To="23" Label="Source3" />
                    <Edge From="21" To="22" Label="Source1" />
                    <Edge From="22" To="23" Label="Source4" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:SubscribeWhen" />
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="GroupWorkflow">
                  <Name>S</Name>
                  <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
                  <Workflow>
                    <Nodes>
                      <Expression xsi:type="SubscribeSubject">
                        <Name>FilenamePrefix</Name>
                      </Expression>
                      <Expression xsi:type="Combinator">
                        <Combinator xsi:type="StringProperty">
                          <Value>_Video</Value>
                        </Combinator>
                      </Expression>
                      <Expression xsi:type="Combinator">
                        <Combinator xsi:type="rx:Zip" />
                      </Expression>
                      <Expression xsi:type="scr:ExpressionTransform">
                        <scr:Expression>it.Item1+it.Item2</scr:Expression>
                      </Expression>
                      <Expression xsi:type="Combinator">
                        <Combinator xsi:type="rx:Take">
                          <rx:Count>1</rx:Count>
                        </Combinator>
                      </Expression>
                      <Expression xsi:type="Format">
                        <Format>{0}.csv</Format>
                      </Expression>
                      <Expression xsi:type="PropertyMapping">
                        <PropertyMappings>
                          <Property Name="FileName" />
                        </PropertyMappings>
                      </Expression>
                      <Expression xsi:type="ExternalizedMapping">
                        <Property Name="Overwrite" />
                      </Expression>
                      <Expression xsi:type="ExternalizedMapping">
                        <Property Name="Suffix" />
                      </Expression>
                      <Expression xsi:type="SubscribeSubject">
                        <Name>VideoLog</Name>
                      </Expression>
                      <Expression xsi:type="io:CsvWriter">
                        <io:FileName>M24019_DotMotion_SpeedTuning_Video.csv</io:FileName>
                        <io:Delimiter>,</io:Delimiter>
                        <io:Append>false</io:Append>
                        <io:Overwrite>false</io:Overwrite>
                        <io:Suffix>Timestamp</io:Suffix>
                        <io:IncludeHeader>true</io:IncludeHeader>
                        <io:Selector />
                      </Expression>
                    </Nodes>
                    <Edges>
                      <Edge From="0" To="2" Label="Source1" />
                      <Edge From="1" To="2" Label="Source2" />
                      <Edge From="2" To="3" Label="Source1" />
                      <Edge From="3" To="4" Label="Source1" />
                      <Edge From="4" To="5" Label="Source1" />
                      <Edge From="5" To="6" Label="Source1" />
                      <Edge From="6" To="10" Label="Source1" />
                      <Edge From="7" To="10" Label="Source2" />
                      <Edge From="8" To="10" Label="Source3" />
                      <Edge From="9" To="10" Label="Source4" />
                    </Edges>
                  </Workflow>
                </Builder>
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>WheelLogging</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>WheelInput</Name>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>LastSyncPulseTime</Name>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>ArduinoTime</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Timestamp" />
                    </Expression>
                    <Expression xsi:type="MemberSelector">
                      <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="MemberSelector">
                        <Selector>Timestamp.DateTime.TimeOfDay</Selector>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>RenderFrameCount</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:WithLatestFrom" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(Item1.Item1 as Wheel, Item1.Item2 as LastSyncPulseTime, Item1.Item3 as ArduinoTime, Item1.Item4 as BonsaiTime, Item2 as RenderFrameCount)</scr:Expression>
                    </Expression>
                    <Expression xsi:type="rx:BehaviorSubject">
                      <Name>WheelLog</Name>
                    </Expression>
                    <Expression xsi:type="WorkflowOutput" />
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="3" Label="Source1" />
                    <Edge From="0" To="6" Label="Source1" />
                    <Edge From="1" To="6" Label="Source2" />
                    <Edge From="2" To="6" Label="Source3" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source4" />
                    <Edge From="6" To="8" Label="Source1" />
                    <Edge From="7" To="8" Label="Source2" />
                    <Edge From="8" To="9" Label="Source1" />
                    <Edge From="9" To="10" Label="Source1" />
                    <Edge From="10" To="11" Label="Source1" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="GroupWorkflow">
                  <Name>VideoLogging</Name>
                  <Workflow>
                    <Nodes>
                      <Expression xsi:type="SubscribeSubject">
                        <Name>VideoFrameCount</Name>
                      </Expression>
                      <Expression xsi:type="Combinator">
                        <Combinator xsi:type="rx:Timestamp" />
                      </Expression>
                      <Expression xsi:type="MemberSelector">
                        <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                      </Expression>
                      <Expression xsi:type="SubscribeSubject">
                        <Name>VideoLEDAsync</Name>
                      </Expression>
                      <Expression xsi:type="Combinator">
                        <Combinator xsi:type="rx:Zip" />
                      </Expression>
                      <Expression xsi:type="SubscribeSubject">
                        <Name>ArduinoTime</Name>
                      </Expression>
                      <Expression xsi:type="Combinator">
                        <Combinator xsi:type="rx:WithLatestFrom" />
                      </Expression>
                      <Expression xsi:type="scr:ExpressionTransform">
                        <scr:Expression>new(Item1.Item1 as VideoFrameCount, Item1.Item3 as LEDAsync, Item2 as ArduinoTime, Item1.Item2 as BonsaiTime)</scr:Expression>
                      </Expression>
                      <Expression xsi:type="rx:BehaviorSubject">
                        <Name>VideoLog</Name>
                      </Expression>
                      <Expression xsi:type="WorkflowOutput" />
                    </Nodes>
                    <Edges>
                      <Edge From="0" To="1" Label="Source1" />
                      <Edge From="0" To="4" Label="Source1" />
                      <Edge From="1" To="2" Label="Source1" />
                      <Edge From="2" To="4" Label="Source2" />
                      <Edge From="3" To="4" Label="Source3" />
                      <Edge From="4" To="6" Label="Source1" />
                      <Edge From="5" To="6" Label="Source2" />
                      <Edge From="6" To="7" Label="Source1" />
                      <Edge From="7" To="8" Label="Source1" />
                      <Edge From="8" To="9" Label="Source1" />
                    </Edges>
                  </Workflow>
                </Builder>
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>PhotodiodeLogging</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>Photodiode</Name>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>LastSyncPulseTime</Name>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>ArduinoTime</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Timestamp" />
                    </Expression>
                    <Expression xsi:type="MemberSelector">
                      <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="MemberSelector">
                        <Selector>Timestamp.DateTime.TimeOfDay</Selector>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>RenderFrameCount</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:WithLatestFrom" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(Item1.Item1 as PDOutput, Item1.Item2 as LastSyncPulseTime, Item1.Item3 as ArduinoTime, Item1.Item4 as BonsaiTime, Item2 as RenderFrameCount)</scr:Expression>
                    </Expression>
                    <Expression xsi:type="rx:BehaviorSubject">
                      <Name>PDLog</Name>
                    </Expression>
                    <Expression xsi:type="WorkflowOutput" />
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="3" Label="Source1" />
                    <Edge From="0" To="6" Label="Source1" />
                    <Edge From="1" To="6" Label="Source2" />
                    <Edge From="2" To="6" Label="Source3" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source4" />
                    <Edge From="6" To="8" Label="Source1" />
                    <Edge From="7" To="8" Label="Source2" />
                    <Edge From="8" To="9" Label="Source1" />
                    <Edge From="9" To="10" Label="Source1" />
                    <Edge From="10" To="11" Label="Source1" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>IntialiseTrialParams</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="IntProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="IntProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="IntProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(
Item1.Item1 as Id,
Item1.Item2 as Duration,
Item1.Item3 as Size,
Item1.Item4 as Colour1,
Item1.Item5 as Colour2,
Item1.Item6 as numDots1,
Item1.Item7 as numDots2,

Item2.Item1 as dotLifeBool,
Item2.Item2 as dotLifetime,
Item2.Item3 as Contrast1,
Item2.Item4 as Contrast2,
Item2.Item5 as VelX1,
Item2.Item6 as VelX2,
Item2.Item7 as VelY1,

Item3.Item1 as VelY2,
Item3.Item2 as Coherence1,
Item3.Item3 as Coherence2)</scr:Expression>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Skip">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="rx:BehaviorSubject">
                      <Name>TrialParams</Name>
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="7" Label="Source1" />
                    <Edge From="1" To="7" Label="Source2" />
                    <Edge From="2" To="7" Label="Source3" />
                    <Edge From="3" To="7" Label="Source4" />
                    <Edge From="4" To="7" Label="Source5" />
                    <Edge From="5" To="7" Label="Source6" />
                    <Edge From="6" To="7" Label="Source7" />
                    <Edge From="7" To="20" Label="Source1" />
                    <Edge From="8" To="15" Label="Source1" />
                    <Edge From="9" To="15" Label="Source2" />
                    <Edge From="10" To="15" Label="Source3" />
                    <Edge From="11" To="15" Label="Source4" />
                    <Edge From="12" To="15" Label="Source5" />
                    <Edge From="13" To="15" Label="Source6" />
                    <Edge From="14" To="15" Label="Source7" />
                    <Edge From="15" To="20" Label="Source2" />
                    <Edge From="16" To="19" Label="Source1" />
                    <Edge From="17" To="19" Label="Source2" />
                    <Edge From="18" To="19" Label="Source3" />
                    <Edge From="19" To="20" Label="Source3" />
                    <Edge From="20" To="21" Label="Source1" />
                    <Edge From="21" To="22" Label="Source1" />
                    <Edge From="22" To="23" Label="Source1" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="GroupWorkflow">
                  <Name>VideoLogger</Name>
                  <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
                  <Workflow>
                    <Nodes>
                      <Expression xsi:type="SubscribeSubject">
                        <Name>FilenamePrefix</Name>
                      </Expression>
                      <Expression xsi:type="Combinator">
                        <Combinator xsi:type="StringProperty">
                          <Value>_Video</Value>
                        </Combinator>
                      </Expression>
                      <Expression xsi:type="Combinator">
                        <Combinator xsi:type="rx:Zip" />
                      </Expression>
                      <Expression xsi:type="scr:ExpressionTransform">
                        <scr:Expression>it.Item1+it.Item2</scr:Expression>
                      </Expression>
                      <Expression xsi:type="Combinator">
                        <Combinator xsi:type="rx:Take">
                          <rx:Count>1</rx:Count>
                        </Combinator>
                      </Expression>
                      <Expression xsi:type="Format">
                        <Format>{0}.csv</Format>
                      </Expression>
                      <Expression xsi:type="PropertyMapping">
                        <PropertyMappings>
                          <Property Name="FileName" />
                        </PropertyMappings>
                      </Expression>
                      <Expression xsi:type="ExternalizedMapping">
                        <Property Name="Overwrite" />
                      </Expression>
                      <Expression xsi:type="ExternalizedMapping">
                        <Property Name="Suffix" />
                      </Expression>
                      <Expression xsi:type="SubscribeSubject">
                        <Name>VideoLog</Name>
                      </Expression>
                      <Expression xsi:type="io:CsvWriter">
                        <io:FileName>M24019_DotMotion_SpeedTuning_Video.csv</io:FileName>
                        <io:Delimiter>,</io:Delimiter>
                        <io:Append>false</io:Append>
                        <io:Overwrite>false</io:Overwrite>
                        <io:Suffix>Timestamp</io:Suffix>
                        <io:IncludeHeader>true</io:IncludeHeader>
                        <io:Selector />
                      </Expression>
                    </Nodes>
                    <Edges>
                      <Edge From="0" To="2" Label="Source1" />
                      <Edge From="1" To="2" Label="Source2" />
                      <Edge From="2" To="3" Label="Source1" />
                      <Edge From="3" To="4" Label="Source1" />
                      <Edge From="4" To="5" Label="Source1" />
                      <Edge From="5" To="6" Label="Source1" />
                      <Edge From="6" To="10" Label="Source1" />
                      <Edge From="7" To="10" Label="Source2" />
                      <Edge From="8" To="10" Label="Source3" />
                      <Edge From="9" To="10" Label="Source4" />
                    </Edges>
                  </Workflow>
                </Builder>
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>TwoPLogging</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>TwoPFrameTime</Name>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>LastSyncPulseTime</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>ArduinoTime</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Timestamp" />
                    </Expression>
                    <Expression xsi:type="MemberSelector">
                      <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="MemberSelector">
                        <Selector>Timestamp.DateTime.TimeOfDay</Selector>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>RenderFrameCount</Name>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>LastSyncPulseTime</Name>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>ArduinoTime</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:CombineLatest" />
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:WithLatestFrom" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(Item1.Item1 as TwoPFrameTime, 
Item1.Item2 as BonsaiTime, 
Item2.Item1 as RenderFrameCount, 
Item2.Item2.Item1 as LastSyncPulseTime, 
Item2.Item2.Item2 as ArduinoTime)</scr:Expression>
                    </Expression>
                    <Expression xsi:type="rx:BehaviorSubject">
                      <Name>TwoPLog</Name>
                    </Expression>
                    <Expression xsi:type="WorkflowOutput" />
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="3" Label="Source1" />
                    <Edge From="0" To="6" Label="Source1" />
                    <Edge From="1" To="6" Label="Source2" />
                    <Edge From="2" To="6" Label="Source3" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source4" />
                    <Edge From="6" To="12" Label="Source1" />
                    <Edge From="7" To="11" Label="Source1" />
                    <Edge From="8" To="10" Label="Source1" />
                    <Edge From="9" To="10" Label="Source2" />
                    <Edge From="10" To="11" Label="Source2" />
                    <Edge From="11" To="12" Label="Source2" />
                    <Edge From="12" To="13" Label="Source1" />
                    <Edge From="13" To="14" Label="Source1" />
                    <Edge From="14" To="15" Label="Source1" />
                  </Edges>
                </Workflow>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="GroupWorkflow">
                  <Name>PhotodiodeLogging</Name>
                  <Workflow>
                    <Nodes>
                      <Expression xsi:type="Disable">
                        <Builder xsi:type="SubscribeSubject">
                          <Name>PDandAsync</Name>
                        </Builder>
                      </Expression>
                      <Expression xsi:type="Disable">
                        <Builder xsi:type="Combinator">
                          <Combinator xsi:type="rx:Timestamp" />
                        </Builder>
                      </Expression>
                      <Expression xsi:type="Disable">
                        <Builder xsi:type="MemberSelector">
                          <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                        </Builder>
                      </Expression>
                      <Expression xsi:type="Disable">
                        <Builder xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Builder>
                      </Expression>
                      <Expression xsi:type="Disable">
                        <Builder xsi:type="SubscribeSubject">
                          <Name>ArduinoTime</Name>
                        </Builder>
                      </Expression>
                      <Expression xsi:type="Disable">
                        <Builder xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Builder>
                      </Expression>
                      <Expression xsi:type="Disable">
                        <Builder xsi:type="scr:ExpressionTransform">
                          <scr:Expression>new(Item1.Item1 as Photodiode, Item1.Item2 as AsyncPulse, Item2 as BonsaiTime, Item3 as ArduinoTime)</scr:Expression>
                        </Builder>
                      </Expression>
                      <Expression xsi:type="Disable">
                        <Builder xsi:type="scr:ExpressionTransform">
                          <scr:Expression>new(Item1.Item1.Item1 as Photodiode, Item1.Item1.Item2 as AsyncPulse, Item1.Item2 as BonsaiTime, Item2 as ArduinoTime)</scr:Expression>
                        </Builder>
                      </Expression>
                      <Expression xsi:type="Disable">
                        <Builder xsi:type="rx:BehaviorSubject">
                          <Name>PDLog</Name>
                        </Builder>
                      </Expression>
                      <Expression xsi:type="Disable">
                        <Builder xsi:type="WorkflowOutput" />
                      </Expression>
                    </Nodes>
                    <Edges>
                      <Edge From="0" To="1" Label="Source1" />
                      <Edge From="0" To="3" Label="Source1" />
                      <Edge From="1" To="2" Label="Source1" />
                      <Edge From="2" To="3" Label="Source2" />
                      <Edge From="3" To="5" Label="Source1" />
                      <Edge From="4" To="5" Label="Source2" />
                      <Edge From="5" To="6" Label="Source1" />
                      <Edge From="6" To="7" Label="Source1" />
                      <Edge From="7" To="8" Label="Source1" />
                      <Edge From="8" To="9" Label="Source1" />
                    </Edges>
                  </Workflow>
                </Builder>
              </Expression>
              <Expression xsi:type="GroupWorkflow">
                <Name>QuadLogging</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>Photodiode</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>QuadState</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:CombineLatest" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>LastSyncPulseTime</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>ArduinoTime</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:Zip" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>RenderFrameCount</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:WithLatestFrom" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:Timestamp" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="MemberSelector">
                        <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:Zip" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="scr:ExpressionTransform">
                        <scr:Expression>new(Item1.Item1.item1.item1 as PDoutput,
Item1.Item1.item1.item2 as QuadState,
Item1.Item1.item2 as LastSyncPulseTime, 
Item1.Item1.item3 as ArduinoTime, 
Item1.Item2 as RenderFrameCount,
Item2 as BonsaiTime)</scr:Expression>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="rx:BehaviorSubject">
                        <Name>PDLog</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="WorkflowOutput" />
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>QuadState</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>LastSyncPulseTime</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>ArduinoTime</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:Timestamp" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="MemberSelector">
                        <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="MemberSelector">
                        <Selector>Timestamp.DateTime.TimeOfDay</Selector>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:Zip" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="SubscribeSubject">
                        <Name>RenderFrameCount</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:WithLatestFrom" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="scr:ExpressionTransform">
                        <scr:Expression>new(Item1.Item1 as QuadState, Item1.Item2 as LastSyncPulseTime, Item1.Item3 as ArduinoTime, Item1.Item4 as BonsaiTime, Item2 as RenderFrameCount)</scr:Expression>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="rx:BehaviorSubject">
                        <Name>QuadLog</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="WorkflowOutput" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>QuadState</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Timestamp" />
                    </Expression>
                    <Expression xsi:type="MemberSelector">
                      <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="MemberSelector">
                        <Selector>Timestamp.DateTime.TimeOfDay</Selector>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>RenderFrameCount</Name>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>LastSyncPulseTime</Name>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>ArduinoTime</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:CombineLatest" />
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="rx:WithLatestFrom" />
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(Item1.Item1 as QuadState, 
Item1.Item2 as BonsaiTime, 
Item2.Item1 as RenderFrameCount, 
Item2.Item2.Item1 as LastSyncPulseTime, 
Item2.Item2.Item2 as ArduinoTime)</scr:Expression>
                    </Expression>
                    <Expression xsi:type="rx:BehaviorSubject">
                      <Name>QuadLog</Name>
                    </Expression>
                    <Expression xsi:type="WorkflowOutput" />
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="2" Label="Source1" />
                    <Edge From="1" To="2" Label="Source2" />
                    <Edge From="2" To="5" Label="Source1" />
                    <Edge From="3" To="5" Label="Source2" />
                    <Edge From="4" To="5" Label="Source3" />
                    <Edge From="5" To="7" Label="Source1" />
                    <Edge From="5" To="8" Label="Source1" />
                    <Edge From="6" To="7" Label="Source2" />
                    <Edge From="7" To="10" Label="Source1" />
                    <Edge From="8" To="9" Label="Source1" />
                    <Edge From="9" To="10" Label="Source2" />
                    <Edge From="10" To="11" Label="Source1" />
                    <Edge From="11" To="12" Label="Source1" />
                    <Edge From="12" To="13" Label="Source1" />
                    <Edge From="14" To="17" Label="Source1" />
                    <Edge From="14" To="20" Label="Source1" />
                    <Edge From="15" To="20" Label="Source2" />
                    <Edge From="16" To="20" Label="Source3" />
                    <Edge From="17" To="18" Label="Source1" />
                    <Edge From="18" To="19" Label="Source1" />
                    <Edge From="19" To="20" Label="Source4" />
                    <Edge From="20" To="22" Label="Source1" />
                    <Edge From="21" To="22" Label="Source2" />
                    <Edge From="22" To="23" Label="Source1" />
                    <Edge From="23" To="24" Label="Source1" />
                    <Edge From="24" To="25" Label="Source1" />
                    <Edge From="26" To="27" Label="Source1" />
                    <Edge From="26" To="30" Label="Source1" />
                    <Edge From="27" To="28" Label="Source1" />
                    <Edge From="28" To="29" Label="Source1" />
                    <Edge From="29" To="30" Label="Source2" />
                    <Edge From="30" To="36" Label="Source1" />
                    <Edge From="31" To="35" Label="Source1" />
                    <Edge From="32" To="34" Label="Source1" />
                    <Edge From="33" To="34" Label="Source2" />
                    <Edge From="34" To="35" Label="Source2" />
                    <Edge From="35" To="36" Label="Source2" />
                    <Edge From="36" To="37" Label="Source1" />
                    <Edge From="37" To="38" Label="Source1" />
                    <Edge From="38" To="39" Label="Source1" />
                  </Edges>
                </Workflow>
              </Expression>
            </Nodes>
            <Edges>
              <Edge From="0" To="2" Label="Source1" />
              <Edge From="1" To="2" Label="Source2" />
              <Edge From="1" To="4" Label="Source1" />
              <Edge From="1" To="6" Label="Source2" />
              <Edge From="1" To="8" Label="Source2" />
              <Edge From="1" To="10" Label="Source1" />
              <Edge From="3" To="4" Label="Source2" />
              <Edge From="5" To="6" Label="Source1" />
              <Edge From="7" To="8" Label="Source1" />
              <Edge From="9" To="10" Label="Source2" />
            </Edges>
          </Workflow>
        </Builder>
      </Expression>
      <Expression xsi:type="Disable">
        <Builder xsi:type="GroupWorkflow">
          <Name>Video</Name>
          <Workflow>
            <Nodes>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="cv:CameraCapture">
                  <cv:Index>0</cv:Index>
                  <cv:CaptureProperties>
                    <cv:CapturePropertyAssignment>
                      <cv:Property>Fps</cv:Property>
                      <cv:Value>30</cv:Value>
                    </cv:CapturePropertyAssignment>
                    <cv:CapturePropertyAssignment>
                      <cv:Property>Saturation</cv:Property>
                      <cv:Value>0</cv:Value>
                    </cv:CapturePropertyAssignment>
                    <cv:CapturePropertyAssignment>
                      <cv:Property>Exposure</cv:Property>
                      <cv:Value>-5</cv:Value>
                    </cv:CapturePropertyAssignment>
                    <cv:CapturePropertyAssignment>
                      <cv:Property>Gain</cv:Property>
                      <cv:Value>0</cv:Value>
                    </cv:CapturePropertyAssignment>
                    <cv:CapturePropertyAssignment>
                      <cv:Property>Contrast</cv:Property>
                      <cv:Value>100</cv:Value>
                    </cv:CapturePropertyAssignment>
                    <cv:CapturePropertyAssignment>
                      <cv:Property>Brightness</cv:Property>
                      <cv:Value>0</cv:Value>
                    </cv:CapturePropertyAssignment>
                    <cv:CapturePropertyAssignment>
                      <cv:Property>Sharpness</cv:Property>
                      <cv:Value>0</cv:Value>
                    </cv:CapturePropertyAssignment>
                    <cv:CapturePropertyAssignment>
                      <cv:Property>Gamma</cv:Property>
                      <cv:Value>0</cv:Value>
                    </cv:CapturePropertyAssignment>
                    <cv:CapturePropertyAssignment>
                      <cv:Property>Backlight</cv:Property>
                      <cv:Value>0</cv:Value>
                    </cv:CapturePropertyAssignment>
                    <cv:CapturePropertyAssignment>
                      <cv:Property>FrameWidth</cv:Property>
                      <cv:Value>2560</cv:Value>
                    </cv:CapturePropertyAssignment>
                    <cv:CapturePropertyAssignment>
                      <cv:Property>FrameHeight</cv:Property>
                      <cv:Value>1440</cv:Value>
                    </cv:CapturePropertyAssignment>
                  </cv:CaptureProperties>
                </Combinator>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="cv:Flip">
                  <cv:Mode>Both</cv:Mode>
                </Combinator>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:ElementIndex" />
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Index</Selector>
              </Expression>
              <Expression xsi:type="MulticastSubject">
                <Name>VideoFrameCount</Name>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="MemberSelector">
                  <Selector>Width</Selector>
                </Builder>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="MemberSelector">
                  <Selector>Height</Selector>
                </Builder>
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="Combinator">
                  <Combinator xsi:type="rx:TimeInterval" />
                </Builder>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="cv:Crop">
                  <cv:RegionOfInterest>
                    <cv:X>496</cv:X>
                    <cv:Y>0</cv:Y>
                    <cv:Width>552</cv:Width>
                    <cv:Height>330</cv:Height>
                  </cv:RegionOfInterest>
                </Combinator>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="cv:Crop">
                  <cv:RegionOfInterest>
                    <cv:X>1952</cv:X>
                    <cv:Y>63</cv:Y>
                    <cv:Width>59</cv:Width>
                    <cv:Height>70</cv:Height>
                  </cv:RegionOfInterest>
                </Combinator>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="cv:Grayscale" />
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="dsp:Sum" />
              </Expression>
              <Expression xsi:type="MemberSelector">
                <Selector>Val0</Selector>
              </Expression>
              <Expression xsi:type="rx:BehaviorSubject">
                <Name>VideoLEDAsync</Name>
              </Expression>
              <Expression xsi:type="SubscribeSubject">
                <Name>FilenamePrefix</Name>
              </Expression>
              <Expression xsi:type="Format">
                <Format>{0}_video.avi</Format>
                <Selector>it</Selector>
              </Expression>
              <Expression xsi:type="PropertyMapping">
                <PropertyMappings>
                  <Property Name="FileName" />
                </PropertyMappings>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="cv:VideoWriter">
                  <cv:FileName>M24019_DotMotion_SpeedTuning_video.avi</cv:FileName>
                  <cv:Suffix>Timestamp</cv:Suffix>
                  <cv:Buffered>true</cv:Buffered>
                  <cv:Overwrite>false</cv:Overwrite>
                  <cv:FourCC>FMP4</cv:FourCC>
                  <cv:FrameRate>30</cv:FrameRate>
                  <cv:FrameSize>
                    <cv:Width>0</cv:Width>
                    <cv:Height>0</cv:Height>
                  </cv:FrameSize>
                  <cv:ResizeInterpolation>NearestNeighbor</cv:ResizeInterpolation>
                </Combinator>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="wie:KeyDown">
                  <wie:Filter>MButton Back Clear D H L Shift</wie:Filter>
                  <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
                </Combinator>
              </Expression>
              <Expression xsi:type="Combinator">
                <Combinator xsi:type="rx:SubscribeWhen" />
              </Expression>
              <Expression xsi:type="Disable">
                <Builder xsi:type="Combinator">
                  <Combinator xsi:type="ffmpeg:VideoWriter">
                    <ffmpeg:FileName>eddTest_SDTraining_video.avi</ffmpeg:FileName>
                    <ffmpeg:Suffix>Timestamp</ffmpeg:Suffix>
                    <ffmpeg:Overwrite>false</ffmpeg:Overwrite>
                    <ffmpeg:FrameRate>30</ffmpeg:FrameRate>
                    <ffmpeg:OutputArguments>-vb 15M -vcodec mpeg4</ffmpeg:OutputArguments>
                  </Combinator>
                </Builder>
              </Expression>
            </Nodes>
            <Edges>
              <Edge From="0" To="1" Label="Source1" />
              <Edge From="0" To="17" Label="Source1" />
              <Edge From="1" To="2" Label="Source1" />
              <Edge From="1" To="5" Label="Source1" />
              <Edge From="1" To="6" Label="Source1" />
              <Edge From="1" To="7" Label="Source1" />
              <Edge From="1" To="8" Label="Source1" />
              <Edge From="1" To="9" Label="Source1" />
              <Edge From="2" To="3" Label="Source1" />
              <Edge From="3" To="4" Label="Source1" />
              <Edge From="9" To="10" Label="Source1" />
              <Edge From="10" To="11" Label="Source1" />
              <Edge From="11" To="12" Label="Source1" />
              <Edge From="12" To="13" Label="Source1" />
              <Edge From="14" To="15" Label="Source1" />
              <Edge From="15" To="16" Label="Source1" />
              <Edge From="16" To="17" Label="Source2" />
              <Edge From="16" To="20" Label="Source2" />
              <Edge From="17" To="19" Label="Source1" />
              <Edge From="18" To="19" Label="Source2" />
              <Edge From="19" To="20" Label="Source1" />
            </Edges>
          </Workflow>
        </Builder>
      </Expression>
      <Expression xsi:type="Disable">
        <Builder xsi:type="Combinator">
          <Combinator xsi:type="wie:KeyDown">
            <wie:Filter>LButton MButton XButton1 Back Tab Clear Return Enter A D E H I L M Shift</wie:Filter>
            <wie:SuppressRepetitions>true</wie:SuppressRepetitions>
          </Combinator>
        </Builder>
      </Expression>
      <Expression xsi:type="Disable">
        <Builder xsi:type="Combinator">
          <Combinator xsi:type="rx:SubscribeWhen" />
        </Builder>
      </Expression>
      <Expression xsi:type="ExternalizedMapping">
        <Property Name="StimulusID" Category="Filename" />
        <Property Name="MouseID" Category="Filename" />
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>Generate File Names</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" DisplayName="StimulusID" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>DotMotion_SpeedTuning_ExpressionTest_fov2</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" DisplayName="MouseID" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>C:\DATA\Subjects\M25010\Bonsai\20250210\M25010</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Zip" />
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_{1}</Format>
              <Selector>Item2,Item1</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>FilenamePrefix</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>FilenamePrefix</Name>
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_EyeLog.csv</Format>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>EyeName</Name>
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_PDAsync.csv</Format>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>PDname</Name>
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_WheelLog.csv</Format>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>WheelName</Name>
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_Trial.csv</Format>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrialName</Name>
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_Metadata.csv</Format>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>MetadataName</Name>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="4" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source2" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="7" To="10" Label="Source1" />
            <Edge From="7" To="12" Label="Source1" />
            <Edge From="7" To="14" Label="Source1" />
            <Edge From="7" To="16" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="14" To="15" Label="Source1" />
            <Edge From="16" To="17" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
    </Nodes>
    <Edges>
      <Edge From="0" To="1" Label="Source1" />
      <Edge From="2" To="5" Label="Source1" />
      <Edge From="2" To="20" Label="Source1" />
      <Edge From="2" To="21" Label="Source1" />
      <Edge From="3" To="4" Label="Source1" />
      <Edge From="4" To="5" Label="Source2" />
      <Edge From="5" To="6" Label="Source1" />
      <Edge From="6" To="7" Label="Source1" />
      <Edge From="7" To="8" Label="Source1" />
      <Edge From="7" To="12" Label="Source1" />
      <Edge From="7" To="16" Label="Source1" />
      <Edge From="8" To="9" Label="Source1" />
      <Edge From="9" To="10" Label="Source1" />
      <Edge From="10" To="11" Label="Source1" />
      <Edge From="12" To="13" Label="Source1" />
      <Edge From="13" To="14" Label="Source1" />
      <Edge From="14" To="15" Label="Source1" />
      <Edge From="16" To="17" Label="Source1" />
      <Edge From="17" To="18" Label="Source1" />
      <Edge From="18" To="19" Label="Source1" />
      <Edge From="21" To="22" Label="Source1" />
      <Edge From="22" To="23" Label="Source1" />
      <Edge From="25" To="27" Label="Source1" />
      <Edge From="26" To="27" Label="Source2" />
      <Edge From="27" To="29" Label="Source1" />
      <Edge From="28" To="29" Label="Source2" />
      <Edge From="30" To="31" Label="Source1" />
      <Edge From="32" To="35" Label="Source1" />
      <Edge From="33" To="34" Label="Source1" />
      <Edge From="34" To="35" Label="Source2" />
      <Edge From="40" To="42" Label="Source1" />
      <Edge From="41" To="42" Label="Source2" />
      <Edge From="43" To="44" Label="Source1" />
    </Edges>
  </Workflow>
</WorkflowBuilder>